webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-no-content/app-no-content.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/app-no-content/app-no-content.component.html":
/***/ (function(module, exports) {

module.exports = "<p>\n  Error occurred.\n</p>\n"

/***/ }),

/***/ "./src/app/app-no-content/app-no-content.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppNoContentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AppNoContentComponent = /** @class */ (function () {
    function AppNoContentComponent() {
    }
    AppNoContentComponent.prototype.ngOnInit = function () {
    };
    AppNoContentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-app-no-content',
            template: __webpack_require__("./src/app/app-no-content/app-no-content.component.html"),
            styles: [__webpack_require__("./src/app/app-no-content/app-no-content.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], AppNoContentComponent);
    return AppNoContentComponent;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__outbreak_inventory__ = __webpack_require__("./src/app/outbreak-inventory/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_no_content_app_no_content_component__ = __webpack_require__("./src/app/app-no-content/app-no-content.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    {
        path: '',
        redirectTo: 'outbreak-inventory',
        pathMatch: 'full'
    },
    {
        path: 'outbreak-inventory',
        children: [],
        component: __WEBPACK_IMPORTED_MODULE_2__outbreak_inventory__["a" /* OutbreakInventoryComponent */]
    },
    {
        path: 'epi-docs',
        children: [],
        component: __WEBPACK_IMPORTED_MODULE_2__outbreak_inventory__["a" /* OutbreakInventoryComponent */]
    },
    { path: '**',
        component: __WEBPACK_IMPORTED_MODULE_3__app_no_content_app_no_content_component__["a" /* AppNoContentComponent */]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* RouterModule */].forRoot(routes, { useHash: true, initialNavigation: false })],
            exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* RouterModule */]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "\n\n<nav>\n      <a [routerLink]=\" ['../../../../'] \" routerLinkActive=\"active\">\n        Dashboard\n      </a>\n      <a [routerLink]=\" ['./outbreak-inventory'] \">\n        Outbreak Report\n      </a>\n      \n</nav>\n\n    <main>\n      <router-outlet></router-outlet>\n      <app-outbreak-inventory></app-outbreak-inventory>\n    </main>  \n\n    <footer>\n      <span></span>\n      <div>\n        \n      </div>\n</footer>`\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'app works!';
    }
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            providers: [],
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser_animations__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_material__ = __webpack_require__("./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_hammerjs__ = __webpack_require__("./node_modules/hammerjs/hammer.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_hammerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_hammerjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_routing_module__ = __webpack_require__("./src/app/app-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_angular_tree_component__ = __webpack_require__("./node_modules/angular-tree-component/dist/angular-tree-component.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__swimlane_ngx_datatable__ = __webpack_require__("./node_modules/@swimlane/ngx-datatable/release/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__swimlane_ngx_datatable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__swimlane_ngx_datatable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_fusioncharts__ = __webpack_require__("./node_modules/fusioncharts/fusioncharts.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_fusioncharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_fusioncharts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_fusioncharts_fusioncharts_charts__ = __webpack_require__("./node_modules/fusioncharts/fusioncharts.charts.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_fusioncharts_fusioncharts_charts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_fusioncharts_fusioncharts_charts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_fusioncharts_themes_fusioncharts_theme_fint__ = __webpack_require__("./node_modules/fusioncharts/themes/fusioncharts.theme.fint.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_fusioncharts_themes_fusioncharts_theme_fint___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_fusioncharts_themes_fusioncharts_theme_fint__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_angular4_fusioncharts__ = __webpack_require__("./node_modules/angular4-fusioncharts/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__outbreak_inventory_outbreak_inventory_component__ = __webpack_require__("./src/app/outbreak-inventory/outbreak-inventory.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__services__ = __webpack_require__("./src/app/services/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__app_no_content_app_no_content_component__ = __webpack_require__("./src/app/app-no-content/app-no-content.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__org_unit_org_unit_component__ = __webpack_require__("./src/app/org-unit/org-unit.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__org_unit_limited_org_unit_limited_component__ = __webpack_require__("./src/app/org-unit-limited/org-unit-limited.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_15__outbreak_inventory_outbreak_inventory_component__["a" /* OutbreakInventoryComponent */],
                __WEBPACK_IMPORTED_MODULE_17__app_no_content_app_no_content_component__["a" /* AppNoContentComponent */],
                __WEBPACK_IMPORTED_MODULE_18__org_unit_org_unit_component__["a" /* OrgUnitComponent */],
                __WEBPACK_IMPORTED_MODULE_19__org_unit_limited_org_unit_limited_component__["a" /* OrgUnitLimitedComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["BrowserModule"],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["d" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["i" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["b" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_7__app_routing_module__["a" /* AppRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_material__["a" /* MatButtonModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["d" /* MatInputModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["h" /* MatSelectModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["b" /* MatDatepickerModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["g" /* MatRadioModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["f" /* MatOptionModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["c" /* MatFormFieldModule */], __WEBPACK_IMPORTED_MODULE_5__angular_material__["e" /* MatNativeDateModule */],
                __WEBPACK_IMPORTED_MODULE_8_angular_tree_component__["c" /* TreeModule */],
                __WEBPACK_IMPORTED_MODULE_9__swimlane_ngx_datatable__["NgxDatatableModule"],
                __WEBPACK_IMPORTED_MODULE_13_angular4_fusioncharts__["a" /* FusionChartsModule */].forRoot(__WEBPACK_IMPORTED_MODULE_10_fusioncharts__, __WEBPACK_IMPORTED_MODULE_11_fusioncharts_fusioncharts_charts__, __WEBPACK_IMPORTED_MODULE_12_fusioncharts_themes_fusioncharts_theme_fint__)
            ],
            providers: [__WEBPACK_IMPORTED_MODULE_16__services__["c" /* OutbreakInventoryService */], __WEBPACK_IMPORTED_MODULE_16__services__["d" /* ProgramIndicatorsService */], __WEBPACK_IMPORTED_MODULE_16__services__["a" /* ConstantService */], __WEBPACK_IMPORTED_MODULE_16__services__["b" /* OrgUnitService */]],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_14__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/org-unit-limited/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__org_unit_limited_component__ = __webpack_require__("./src/app/org-unit-limited/org-unit-limited.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__org_unit_limited_component__["a"]; });



/***/ }),

/***/ "./src/app/org-unit-limited/org-unit-limited.component.css":
/***/ (function(module, exports) {

module.exports = ".tree-node-active > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n}\n\n.toggle-children {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n  height: 8px;\n  width: 9px;\n  background-size: contain;\n  display: inline-block;\n  position: relative;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.tree-node-expanded > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg) !important;\n          transform: rotate(0deg) !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysTqXJGKAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADdJREFUeNpjbGhoYMABWIC4vr4eU6KxsZGJATfAJ8cCoRgZGZFF////j5CDcEgwk5B9QOdilQMArx0MGrXJqC8AAAAASUVORK5CYII=);\n\n}\n\n.tree-node-collapsed > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n\n}\n\n.tree-node-active.tree-node-focused > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n  font-weight: bold;\n}\n\n.tree-node-active > .node-content-wrapper, .tree-node-focused > .node-content-wrapper, .node-content-wrapper:hover {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n\n.tree-input {\n\n}\n\n.show_items{\n  position: relative;\n  float: left;\n  display: inline-block;\n  text-align: left;\n  cursor: pointer;\n  border-bottom: 1px solid #a9a4a4;\n  padding: 5px 6px 10px 6px;\n  font-size: 24px;\n  min-height: 20px!important;\n  border-radius: 1px;\n  color: #555;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  white-space: normal;\n  background-image: -webkit-gradient(linear,left top, left bottom,from(#fff),to(#f7f7f7));\n  background-image: linear-gradient(#fff,#f7f7f7);\n  width: 20%;\n  height: 38px;\n}\n\n.show_items span,\n.show_items small {\n  cursor: pointer;\n}\n\n.show_tops{\n  position: relative;\n  float: left;\n  display: inline-block;\n  text-align: center;\n  /*cursor: pointer;*/\n  border: 1px solid #c6c6c6;\n  /*padding: 8px 8px;*/\n  font-size: 14px;\n  min-height: 38px!important;\n  border-radius: 4px;\n  color: #555;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  white-space: normal;\n  background-color: #fff;\n  background-image: -webkit-gradient(linear,left top, left bottom,from(#fff),to(#f7f7f7));\n  background-image: linear-gradient(#fff,#f7f7f7);\n  width: 7%;\n  height: 34px;\n}\n\n.arrows:hover{\n  -webkit-transform: scale(1.001, 1.001);\n          transform: scale(1.001, 1.001);\n  -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  background-color: rgba(0,0,0,0.05);\n}\n\n.tree-view {\n  text-align: left;\n  background-color: #fff;\n  position: absolute;\n  z-index: 9999;\n  border: 1px solid rgba(0, 0, 0, .15);\n  border-radius: 4px;\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  min-width: 370px;\n  margin-right: 30px;\n  max-height: 360px;\n  overflow: auto;\n  padding: 10px 5px;\n  margin-top: 38px;\n}\n\n.additional-options {\n  text-align: left;\n  background-color: #fff;\n  position: absolute;\n  z-index: 999;\n  border: 1px solid rgba(0, 0, 0, .15);\n  border-radius: 4px;\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  min-width: 420px;\n  margin-right: 13px;\n  max-height: 400px;\n  overflow: auto;\n  padding: 10px 5px;\n  margin-top: 38px;\n  right: 0px;\n}\n\n.scorecard_table{\n  margin-bottom: 3px;\n  font-size: 9px;\n  border: 1px solid #ddd;\n  border-spacing: 0;\n  border-collapse: collapse;\n  display: table;\n}\n\n.pointer label{\n  cursor: pointer;\n}\n\n.tree-area{\n  max-height: 270px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area{\n  max-height: 210px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area{\n  overflow: auto;\n}\n\n.tree-area1{\n  max-height: 210px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area1:hover{\n  overflow: auto;\n}\n\n.tree-area2{\n  max-height: 150px;\n  overflow: hidden;\n}\n\n.tree-area2:hover{\n  overflow: auto;\n}\n\n.hiddenTree{\n  display: none;\n}\n\n.tree-area::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-area::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-area::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-area1::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-area1::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-area1::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-view::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-view::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-view::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-view input{\n  border-radius: 2px;\n  border: 1px solid #ccc;\n  height: 26px;\n  font-size: 14px;\n  width: 100%;\n  padding-left: 7px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #888;\n  margin: 0 0 8px;\n}\n\nspan.selected-item {\n  background: inherit;\n  border: 1px solid #ececec;\n  border-radius: 3px;\n  padding: 3px 5px 3px 5px;\n  margin-right: 2px;\n  cursor: text;\n  font-size: 16px;\n\n}\n\n.selected-item-close {\n  width: 20px;\n  cursor: pointer;\n  font-weight: 700;\n  display: inline-block;\n  padding: 2px;\n  text-align: center;\n  font-size: xx-small;\n}\n\n/* dhis2 Styling structure*/\n\n#tree_view .tree-node-active > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n}\n\n#tree_view .toggle-children {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n  height: 8px;\n  width: 9px;\n  background-size: contain;\n  display: inline-block;\n  position: relative;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n#tree_view .tree-node-expanded > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg) !important;\n          transform: rotate(0deg) !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysTqXJGKAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADdJREFUeNpjbGhoYMABWIC4vr4eU6KxsZGJATfAJ8cCoRgZGZFF////j5CDcEgwk5B9QOdilQMArx0MGrXJqC8AAAAASUVORK5CYII=);\n\n}\n\n#tree_view .tree-node-collapsed > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n\n}\n\n#tree_view .tree-node-active.tree-node-focused > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n  font-weight: bold;\n}\n\n#tree_view .tree-node-active > .node-content-wrapper, .tree-node-focused > .node-content-wrapper, .node-content-wrapper:hover {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n\n.close-area{\n  border-top: 1px solid blanchedalmond;\n  padding-top: 5px;\n}\n\n@media print {\n  .no-print *{\n    display: none;\n  }\n  .no-print{\n    display: none;\n  }\n\n  .orgUnitName{\n    min-width: 130px;\n    height: 35px;\n    max-height: 35px;\n    font-size: 9px;\n  }\n  .table-bordered td{\n    /*border-top: 0.1em;*/\n  }\n  .legendItem{\n    width: 200px;\n    float: left;\n  }\n\n}\n\n/*scorecard indicator details*/\n\n.indicator_details{\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1050;\n  /*display: none;*/\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n  -webkit-transition: opacity .15s linear;\n  transition: opacity .15s linear;\n  background-color: rgba(0,0,0,.4);\n}\n\n.indicator_dialog{\n  width: 86%;\n  margin: 100px 7% auto 7%;\n}\n\n.indicator-content {\n  -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);\n  box-shadow: 0 5px 15px rgba(0,0,0,.5);\n  position: relative;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #999;\n  border: 1px solid rgba(0,0,0,.2);\n  border-radius: 6px;\n  outline: 0;\n  min-height: 200px;\n  padding: 10px;\n}\n\n.hide_no_group{\n  display: none;\n}\n\ntable * {\n  line-height: 80%;\n}\n\n.subtotal{\n  width:90px;max-width: 90px;\n}\n\n.indicator_title{\n  font-size: 10px;\n  width:90px;\n  max-width: 90px;\n  overflow-wrap: break-word;\n  cursor: pointer;\n  line-height: 140%\n}\n\n.list-group-item{\n  padding: 5px 15px\n}\n\n.removeorgunit{\n  cursor:pointer;\n  border: 1px solid rgba(95, 158, 160, 0.26);\n  padding-left: 2px;\n  padding-right: 2px;\n}\n\n.node-content-wrapper {\n  display: inline-block;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -webkit-box-align: baseline;\n      -ms-flex-align: baseline;\n          align-items: baseline;\n  min-height: 50px;\n}\n\n"

/***/ }),

/***/ "./src/app/org-unit-limited/org-unit-limited.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"tree-input disabled\" appClickOutside (clickOutside)=\"hideTree()\">\n  <div class=\"tree-input\" >\n    <div>\n      <div class=\"show_items\" (click)=\"displayOrgTree()\">\n          <span *ngIf=\"!orgunit_tree_config.loading\">\n              {{ getProperPreOrgunitName() }}\n          </span>\n        <span *ngIf=\"orgunit_model.selected_orgunits.length > 4 && orgunit_model.selection_mode != 'Usr_orgUnit'\">\n            <span class=\"selected-item\">\n              {{ orgunit_model.selected_orgunits[0].name }}\n              <a (click)=\"deActivateNode(orgunit_model.selected_orgunits[0].id,orgtree,$event)\" class=\"removeorgunit\" >x</a>\n            </span>\n            <span class=\"selected-item\">\n              {{ orgunit_model.selected_orgunits[1].name }}\n              <a (click)=\"deActivateNode(orgunit_model.selected_orgunits[1].id,orgtree,$event)\" class=\"removeorgunit\">x</a>\n            </span>\n            <span class=\"selected-item\">\n              &nbsp; and {{ orgunit_model.selected_orgunits.length - 2 }} more\n            </span>\n          </span>\n        <span *ngIf=\"orgunit_model.selected_orgunits.length <= 4 && orgunit_model.selection_mode != 'Usr_orgUnit'\">\n             <span *ngFor=\"let item of orgunit_model.selected_orgunits\" class=\"selected-item ng-binding ng-scope\">\n              {{ item.name }}\n               <a (click)=\"deActivateNode(item.id,orgtree,$event)\" class=\"removeorgunit\" *ngIf=\"orgunit_model.selected_orgunits.length > 1\">x</a>\n            </span>\n          </span>\n        <span class=\"no-selection\"*ngIf=\"orgunit_model.selected_orgunits.length == 0 && !orgunit_tree_config.loading && orgunit_model.selection_mode != 'Usr_orgUnit'\">{{ orgunit_tree_config.placeholder }}</span>\n        <span class=\"glyphicon glyphicon-triangle-bottom pull-right\" *ngIf=\"!orgunit_tree_config.loading\"></span>\n        <span *ngIf=\"orgunit_tree_config.loading\">{{ orgunit_tree_config.loading_message }}</span>\n      </div>\n      <div class=\"tree-view\" [ngClass]=\"{'hiddenTree':showOrgTree}\" id=\"tree_view\">\n        <div class=\"col-sm-6\" style=\"padding-left: 0px; margin-bottom: 5px\">\n          <label>Selection Mode</label>\n          <select id=\"selectionMode\" [(ngModel)]=\"orgunit_model.selection_mode\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"Usr_orgUnit\">User orgUnit</option>\n            <option value=\"orgUnit\">Select Organisation Unit</option>\n            <option value=\"Level\">Select Level</option>\n            <option value=\"Group\">Select Group</option>\n          </select>\n        </div>\n        <!--org_unit_groups-->\n        <div class=\"col-sm-6\" style=\"padding-right: 0px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Group'\">\n          <label>Available Groups</label>\n          <select id=\"groupSelection\" [(ngModel)]=\"orgunit_model.selected_group\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"\">Select Group</option>\n            <option *ngFor=\"let group of orgunit_model.orgunit_groups\"  value=\"OU_GROUP-{{ group.id }}\">{{ group.name }}</option>\n          </select>\n        </div>\n        <!--org_unit_groups-->\n        <div class=\"col-sm-6\" style=\"padding-right: 0px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Usr_orgUnit'\">\n          <label>Available Groups</label>\n          <select id=\"userOrgSelection\" [(ngModel)]=\"orgunit_model.selected_user_orgunit\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"USER_ORGUNIT\">User org unit</option>\n            <option value=\"USER_ORGUNIT_CHILDREN\">User sub-units</option>\n            <option value=\"USER_ORGUNIT_GRANDCHILDREN\">User sub-x2-units</option>\n          </select>\n        </div>\n        <!--org_unit_levels-->\n        <div class=\"col-sm-6\" style=\"padding-right: 2px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Level'\">\n          <label>Available Levels</label>\n          <select id=\"levelSelection\" [(ngModel)]=\"orgunit_model.selected_level\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"\">Select Level</option>\n            <option *ngFor=\"let single_level of orgunit_model.orgUnitLevels\"  value=\"LEVEL-{{single_level.level}}\">{{ single_level.name }}</option>\n          </select>\n        </div>\n        <div class=\"search-area\">\n          <form *ngIf=\"!orgunit_tree_config.loading && orgunit_tree_config.show_search && orgunit_model.selection_mode != 'Usr_orgUnit'\" style=\"border-bottom: solid 1px blanchedalmond;\">\n            <input #filter (keyup)=\"filterNodes(filter.value, orgtree)\" placeholder=\"{{ orgunit_tree_config.search_text }}\" class=\"search_field\"/>\n          </form>\n        </div>\n        <div *ngIf=\"orgunit_tree_config.loading\">{{ orgunit_tree_config.loading_message }}</div>\n        <div class=\"tree-area\" [ngClass]=\"{'someclass': orgunit_model.selection_mode == 'Usr_orgUnit'}\">\n          <tree-root\n            #orgtree\n            [nodes]=\"organisationunits\"\n            [focused]=\"true\"\n            [options]=\"customTemplateStringOrgunitOptions\"\n            (activate)=\"activateOrg($event)\"\n            (deactivate)=\"deactivateOrg($event)\"\n          >\n            <ng-template #treeNodeTemplate let-node>\n              <span>{{ node.data.name }}</span>\n            </ng-template>\n          </tree-root>\n        </div>\n        <div class=\"close-area\">\n          <button class=\"btn btn-default pull-right\" style=\"height: 30px\"  (click)=\"displayOrgTree()\">\n            <span class=\"glyphicon glyphicon-remove\"></span> Close\n          </button>\n          <button *ngIf=\"orgunit_tree_config.show_update_button\" type=\"button\" class=\"btn btn-default pull-right\"  style=\"height: 30px\" (click)=\"updateOrgUnitModel()\">\n            <span class=\"glyphicon glyphicon-refresh\"></span>  Update\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/org-unit-limited/org-unit-limited.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrgUnitLimitedComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__ = __webpack_require__("./node_modules/angular-tree-component/dist/angular-tree-component.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services__ = __webpack_require__("./src/app/services/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var OrgUnitLimitedComponent = /** @class */ (function () {
    function OrgUnitLimitedComponent(constantService, orgUnitService) {
        var _this = this;
        this.constantService = constantService;
        this.orgUnitService = orgUnitService;
        /** Part of source code borrowed from Kelvin, HISP Tanzania **/
        // the object that will carry the output value you can send one from outside to config start values
        this.orgunit_model = {
            selection_mode: "Usr_orgUnit",
            selected_level: "",
            selected_group: "",
            orgUnitLevels: [],
            orgunit_groups: [],
            selected_orgunits: [],
            user_orgunits: [],
            type: "report",
            selected_user_orgunit: "USER_ORGUNIT"
        };
        // The organisation unit configuration object This will have to come from outside.
        this.orgunit_tree_config = {
            show_search: true,
            search_text: 'Search',
            level: null,
            loading: true,
            show_update_button: true,
            loading_message: 'Loading Organisation units...',
            multiple: false,
            multiple_key: "none",
            placeholder: "Select Organisation Unit"
        };
        this.onOrgUnitUpdate = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onOrgUnitInit = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.orgunitready = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.orgUnit = {};
        this.nodes = null;
        this.orgUnitLevels = [];
        this.organisationunits = [];
        this.selected_orgunits = [];
        // this variable controls the visibility of of the tree
        this.showOrgTree = true;
        // add item to array of selected items when item is selected
        this.activateOrg = function ($event) {
            if (_this.orgunit_model.selection_mode == "Usr_orgUnit") {
                _this.orgunit_model.selection_mode = "orgUnit";
            }
            _this.selected_orgunits = [$event.node.data];
            if (!_this.checkOrgunitAvailabilty($event.node.data, _this.orgunit_model.selected_orgunits)) {
                _this.orgunit_model.selected_orgunits.push($event.node.data);
            }
            _this.orgUnit = $event.node.data;
        };
        if (!this.orgunit_tree_config.hasOwnProperty("multiple_key")) {
            this.orgunit_tree_config.multiple_key = "none";
        }
    }
    OrgUnitLimitedComponent.prototype.updateModelOnSelect = function (data) {
        if (!this.orgunit_model.show_update_button) {
            this.onOrgUnitUpdate.emit({ name: 'ou', value: data.id });
            this.displayOrgTree();
        }
    };
    OrgUnitLimitedComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.orgunit_tree_config.multiple) {
            if (this.orgunit_tree_config.multiple_key == "none") {
                var actionMapping = {
                    mouse: {
                        dblClick: __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_EXPANDED,
                        click: function (node, tree, $event) { return __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event); }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
            else if (this.orgunit_tree_config.multiple_key == "control") {
                var actionMapping = {
                    mouse: {
                        click: function (node, tree, $event) {
                            $event.ctrlKey
                                ? __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event)
                                : __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event);
                        }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
            else if (this.orgunit_tree_config.multiple_key == "shift") {
                var actionMapping = {
                    mouse: {
                        click: function (node, tree, $event) {
                            $event.shiftKey
                                ? __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event)
                                : __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event);
                        }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
        }
        else {
            var actionMapping = {
                mouse: {
                    dblClick: __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_EXPANDED,
                    click: function (node, tree, $event) { return __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event); }
                }
            };
            this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
        }
        // if (this.orgUnitService.nodes == null) {
        this.orgUnitService.getOrgunitLevelsInformation()
            .subscribe(function (data) {
            // assign urgunit levels and groups to variables
            _this.orgunit_model.orgUnitLevels = data.organisationUnitLevels;
            // setting organisation groups
            _this.orgUnitService.getOrgunitGroups().subscribe(function (groups) {
                _this.orgunit_model.orgunit_groups = groups;
            });
            // identify currently logged in usser
            _this.orgUnitService.getUserInformation(_this.orgunit_model.type).subscribe(function (userOrgunit) {
                //let level = this.orgUnitService.getUserHighestOrgUnitlevel( userOrgunit );
                var level = 1;
                _this.orgunit_model.user_orgunits = _this.orgUnitService.getUserOrgUnits(userOrgunit);
                _this.orgUnitService.user_orgunits = _this.orgUnitService.getUserOrgUnits(userOrgunit);
                if (_this.orgunit_model.selection_mode == "Usr_orgUnit") {
                    _this.orgunit_model.selected_orgunits = _this.orgunit_model.user_orgunits;
                }
                var all_levels = data.pager.total;
                var orgunits = _this.orgUnitService.getuserOrganisationUnitsWithHighestlevel(level, userOrgunit);
                //let use_level = parseInt(all_levels) - (parseInt(level) - 1);
                var use_level = 3;
                // this.orgunit_model.user_orgunits = orgunits;
                //load inital orgiunits to speed up loading speed
                _this.orgUnitService.getInitialOrgunitsForTree(orgunits).subscribe(function (initial_data) {
                    _this.organisationunits = initial_data;
                    _this.orgunit_tree_config.loading = false;
                    // after done loading initial organisation units now load all organisation units
                    var fields = _this.orgUnitService.generateUrlBasedOnLevels(use_level);
                    _this.orgUnitService.getAllOrgunitsForTree1(fields, orgunits).subscribe(function (items) {
                        _this.organisationunits = items;
                        _this.orgunitready.emit(true);
                        //activate organisation units
                        for (var _i = 0, _a = _this.orgunit_model.selected_orgunits; _i < _a.length; _i++) {
                            var active_orgunit = _a[_i];
                            _this.activateNode(active_orgunit.id, _this.orgtree);
                        }
                        _this.prepareOrganisationUnitTree(_this.organisationunits, 'parent');
                    }, function (error) {
                        console.error('something went wrong while fetching Organisation units');
                        _this.orgunit_tree_config.loading = false;
                    });
                }, function (error) {
                    console.error('something went wrong while fetching Organisation units');
                    _this.orgunit_tree_config.loading = false;
                });
            });
        });
    };
    // display Orgunit Tree
    OrgUnitLimitedComponent.prototype.displayOrgTree = function () {
        this.showOrgTree = !this.showOrgTree;
    };
    OrgUnitLimitedComponent.prototype.hideTree = function () {
        this.showOrgTree = true;
    };
    OrgUnitLimitedComponent.prototype.activateNode = function (nodeId, nodes) {
        setTimeout(function () {
            var node = nodes.treeModel.getNodeById(nodeId);
            if (node)
                node.setIsActive(true, true);
        }, 0);
    };
    // a method to activate the model
    OrgUnitLimitedComponent.prototype.deActivateNode = function (nodeId, nodes, event) {
        setTimeout(function () {
            var node = nodes.treeModel.getNodeById(nodeId);
            if (node)
                node.setIsActive(false, true);
        }, 0);
        if (event != null) {
            event.stopPropagation();
        }
    };
    // check if orgunit already exist in the orgunit display list
    OrgUnitLimitedComponent.prototype.checkOrgunitAvailabilty = function (orgunit, array) {
        var checker = false;
        array.forEach(function (value) {
            if (value.id == orgunit.id) {
                checker = true;
            }
        });
        return checker;
    };
    // action to be called when a tree item is deselected(Remove item in array of selected items
    OrgUnitLimitedComponent.prototype.deactivateOrg = function ($event) {
        var _this = this;
        if (this.orgunit_model.selection_mode == "Usr_orgUnit") {
            this.orgunit_model.selection_mode = "orgUnit";
        }
        this.orgunit_model.selected_orgunits.forEach(function (item, index) {
            if ($event.node.data.id == item.id) {
                _this.orgunit_model.selected_orgunits.splice(index, 1);
            }
        });
    };
    ;
    OrgUnitLimitedComponent.prototype.prepareOrganisationUnitTree = function (organisationUnit, type) {
        var _this = this;
        if (type === void 0) { type = 'top'; }
        if (type == "top") {
            if (organisationUnit.children) {
                organisationUnit.children.sort(function (a, b) {
                    if (a.name > b.name) {
                        return 1;
                    }
                    if (a.name < b.name) {
                        return -1;
                    }
                    // a must be equal to b
                    return 0;
                });
                organisationUnit.children.forEach(function (child) {
                    _this.prepareOrganisationUnitTree(child, 'top');
                });
            }
        }
        else {
            organisationUnit.forEach(function (orgunit) {
                if (orgunit.children) {
                    orgunit.children.sort(function (a, b) {
                        if (a.name > b.name) {
                            return 1;
                        }
                        if (a.name < b.name) {
                            return -1;
                        }
                        // a must be equal to b
                        return 0;
                    });
                    orgunit.children.forEach(function (child) {
                        _this.prepareOrganisationUnitTree(child, 'top');
                    });
                }
            });
        }
    };
    OrgUnitLimitedComponent.prototype.updateOrgUnitModel = function () {
        this.displayOrgTree();
        this.onOrgUnitUpdate.emit({ name: 'ou', value: this.getOrgUnitsForAnalytics(this.orgunit_model, false) });
    };
    // prepare a proper name for updating the organisation unit display area.
    OrgUnitLimitedComponent.prototype.getProperPreOrgunitName = function () {
        var name = "";
        if (this.orgunit_model.selection_mode == "Group") {
            var use_value = this.orgunit_model.selected_group.split("-");
            for (var _i = 0, _a = this.orgunit_model.orgunit_groups; _i < _a.length; _i++) {
                var single_group = _a[_i];
                if (single_group.id == use_value[1]) {
                    name = single_group.name + " in";
                }
            }
        }
        else if (this.orgunit_model.selection_mode == "Usr_orgUnit") {
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT") {
                name = this.orgunit_model.user_orgunits[0].name;
            }
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT_CHILDREN") {
                name = this.getOrgUnitName(this.orgunit_model.user_orgunits[0].id) + " sub-units";
            }
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT_GRANDCHILDREN") {
                name = this.getOrgUnitName(this.orgunit_model.user_orgunits[0].id) + " sub-x2-units";
            }
        }
        else if (this.orgunit_model.selection_mode == "Level") {
            var use_level = this.orgunit_model.selected_level.split("-");
            for (var _b = 0, _c = this.orgunit_model.orgUnitLevels; _b < _c.length; _b++) {
                var single_level = _c[_b];
                if (single_level.level == use_level[1]) {
                    name = single_level.name + " in";
                }
            }
        }
        else {
            name = "";
        }
        return name;
    };
    // get user organisationunit name
    OrgUnitLimitedComponent.prototype.getOrgUnitName = function (id) {
        var orgunit = this.orgtree.treeModel.getNodeById(id);
        return orgunit.name;
    };
    // a function to prepare a list of organisation units for analytics
    OrgUnitLimitedComponent.prototype.getOrgUnitsForAnalytics = function (orgunit_model, with_children) {
        var orgUnits = [];
        var organisation_unit_analytics_string = "";
        // if the selected orgunit is user org unit
        if (orgunit_model.selection_mode == "Usr_orgUnit") {
            if (orgunit_model.user_orgunits.length == 1) {
                var user_orgunit = this.orgtree.treeModel.getNodeById(orgunit_model.user_orgunits[0].id);
                orgUnits.push(user_orgunit.id);
                if (user_orgunit.hasOwnProperty('children') && with_children) {
                    for (var _i = 0, _a = user_orgunit.children; _i < _a.length; _i++) {
                        var orgunit = _a[_i];
                        orgUnits.push(orgunit.id);
                    }
                }
            }
            else {
                organisation_unit_analytics_string += orgunit_model.selected_user_orgunit;
            }
        }
        else {
            // if there is only one organisation unit selected
            if (orgunit_model.selected_orgunits.length == 1) {
                var detailed_orgunit = this.orgtree.treeModel.getNodeById(orgunit_model.selected_orgunits[0].id);
                orgUnits.push(detailed_orgunit.id);
                if (detailed_orgunit.hasOwnProperty('children') && with_children) {
                    for (var _b = 0, _c = detailed_orgunit.children; _b < _c.length; _b++) {
                        var orgunit = _c[_b];
                        orgUnits.push(orgunit.id);
                    }
                }
            }
            else {
                orgunit_model.selected_orgunits.forEach(function (orgunit) {
                    orgUnits.push(orgunit.id);
                });
            }
            if (orgunit_model.selection_mode == "orgUnit") {
            }
            if (orgunit_model.selection_mode == "Level") {
                organisation_unit_analytics_string += orgunit_model.selected_level + ";";
            }
            if (orgunit_model.selection_mode == "Group") {
                organisation_unit_analytics_string += orgunit_model.selected_group + ";";
            }
        }
        return organisation_unit_analytics_string + orgUnits.join(";");
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], OrgUnitLimitedComponent.prototype, "orgunit_model", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], OrgUnitLimitedComponent.prototype, "orgunit_tree_config", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitLimitedComponent.prototype, "onOrgUnitUpdate", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitLimitedComponent.prototype, "onOrgUnitInit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitLimitedComponent.prototype, "orgunitready", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('orgtree'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["b" /* TreeComponent */])
    ], OrgUnitLimitedComponent.prototype, "orgtree", void 0);
    OrgUnitLimitedComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-org-unit-limited',
            template: __webpack_require__("./src/app/org-unit-limited/org-unit-limited.component.html"),
            styles: [__webpack_require__("./src/app/org-unit-limited/org-unit-limited.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services__["a" /* ConstantService */],
            __WEBPACK_IMPORTED_MODULE_2__services__["b" /* OrgUnitService */]])
    ], OrgUnitLimitedComponent);
    return OrgUnitLimitedComponent;
}());



/***/ }),

/***/ "./src/app/org-unit/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__org_unit_component__ = __webpack_require__("./src/app/org-unit/org-unit.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__org_unit_component__["a"]; });



/***/ }),

/***/ "./src/app/org-unit/org-unit.component.css":
/***/ (function(module, exports) {

module.exports = ".tree-node-active > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n}\n\n.toggle-children {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n  height: 8px;\n  width: 9px;\n  background-size: contain;\n  display: inline-block;\n  position: relative;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.tree-node-expanded > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg) !important;\n          transform: rotate(0deg) !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysTqXJGKAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADdJREFUeNpjbGhoYMABWIC4vr4eU6KxsZGJATfAJ8cCoRgZGZFF////j5CDcEgwk5B9QOdilQMArx0MGrXJqC8AAAAASUVORK5CYII=);\n\n}\n\n.tree-node-collapsed > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n\n}\n\n.tree-node-active.tree-node-focused > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n  font-weight: bold;\n}\n\n.tree-node-active > .node-content-wrapper, .tree-node-focused > .node-content-wrapper, .node-content-wrapper:hover {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n\n.tree-input {\n\n}\n\n.show_items{\n  position: relative;\n  float: left;\n  display: inline-block;\n  text-align: left;\n  cursor: pointer;\n  border-bottom: 1px solid #a9a4a4;\n  padding: 5px 6px 10px 6px;\n  font-size: 24px;\n  min-height: 20px!important;\n  border-radius: 1px;\n  color: #555;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  white-space: normal;\n  background-image: -webkit-gradient(linear,left top, left bottom,from(#fff),to(#f7f7f7));\n  background-image: linear-gradient(#fff,#f7f7f7);\n  width: 20%;\n  height: 38px;\n}\n\n.show_items span,\n.show_items small {\n  cursor: pointer;\n}\n\n.show_tops{\n  position: relative;\n  float: left;\n  display: inline-block;\n  text-align: center;\n  /*cursor: pointer;*/\n  border: 1px solid #c6c6c6;\n  /*padding: 8px 8px;*/\n  font-size: 14px;\n  min-height: 38px!important;\n  border-radius: 4px;\n  color: #555;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  white-space: normal;\n  background-color: #fff;\n  background-image: -webkit-gradient(linear,left top, left bottom,from(#fff),to(#f7f7f7));\n  background-image: linear-gradient(#fff,#f7f7f7);\n  width: 7%;\n  height: 34px;\n}\n\n.arrows:hover{\n  -webkit-transform: scale(1.001, 1.001);\n          transform: scale(1.001, 1.001);\n  -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  box-shadow: 0 0 10px rgba(0,0,0,0.1);\n  background-color: rgba(0,0,0,0.05);\n}\n\n.tree-view {\n  text-align: left;\n  background-color: #fff;\n  position: absolute;\n  z-index: 9999;\n  border: 1px solid rgba(0, 0, 0, .15);\n  border-radius: 4px;\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  min-width: 370px;\n  margin-right: 30px;\n  max-height: 360px;\n  overflow: auto;\n  padding: 10px 5px;\n  margin-top: 38px;\n}\n\n.additional-options {\n  text-align: left;\n  background-color: #fff;\n  position: absolute;\n  z-index: 999;\n  border: 1px solid rgba(0, 0, 0, .15);\n  border-radius: 4px;\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  min-width: 420px;\n  margin-right: 13px;\n  max-height: 400px;\n  overflow: auto;\n  padding: 10px 5px;\n  margin-top: 38px;\n  right: 0px;\n}\n\n.scorecard_table{\n  margin-bottom: 3px;\n  font-size: 9px;\n  border: 1px solid #ddd;\n  border-spacing: 0;\n  border-collapse: collapse;\n  display: table;\n}\n\n.pointer label{\n  cursor: pointer;\n}\n\n.tree-area{\n  max-height: 270px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area{\n  max-height: 210px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area{\n  overflow: auto;\n}\n\n.tree-area1{\n  max-height: 210px;\n  overflow: hidden;\n  width: 100%;\n}\n\n.tree-area1:hover{\n  overflow: auto;\n}\n\n.tree-area2{\n  max-height: 150px;\n  overflow: hidden;\n}\n\n.tree-area2:hover{\n  overflow: auto;\n}\n\n.hiddenTree{\n  display: none;\n}\n\n.tree-area::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-area::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-area::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-area1::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-area1::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-area1::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-view::-webkit-scrollbar {\n  width: 5px;\n}\n\n.tree-view::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n  border-radius: 10px;\n}\n\n.tree-view::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n}\n\n.tree-view input{\n  border-radius: 2px;\n  border: 1px solid #ccc;\n  height: 26px;\n  font-size: 14px;\n  width: 100%;\n  padding-left: 7px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #888;\n  margin: 0 0 8px;\n}\n\nspan.selected-item {\n  background: inherit;\n  border: 1px solid #ececec;\n  border-radius: 3px;\n  padding: 3px 5px 3px 5px;\n  margin-right: 2px;\n  cursor: text;\n  font-size: 16px;\n\n}\n\n.selected-item-close {\n  width: 20px;\n  cursor: pointer;\n  font-weight: 700;\n  display: inline-block;\n  padding: 2px;\n  text-align: center;\n  font-size: xx-small;\n}\n\n/* dhis2 Styling structure*/\n\n#tree_view .tree-node-active > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n}\n\n#tree_view .toggle-children {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n  height: 8px;\n  width: 9px;\n  background-size: contain;\n  display: inline-block;\n  position: relative;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n#tree_view .tree-node-expanded > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg) !important;\n          transform: rotate(0deg) !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysTqXJGKAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADdJREFUeNpjbGhoYMABWIC4vr4eU6KxsZGJATfAJ8cCoRgZGZFF////j5CDcEgwk5B9QOdilQMArx0MGrXJqC8AAAAASUVORK5CYII=);\n\n}\n\n#tree_view .tree-node-collapsed > .toggle-children-wrapper > .toggle-children {\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAB3RJTUUH1AgFFysfoMQKAwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUeNpjbGhoYMABWIC4vr4eU6KxsZEJmc/IyIjMZWLADVjQdEAY////R8hBOEAJCIOwmShyyJqgZgKdi1UfAE1ZEh02KM7OAAAAAElFTkSuQmCC);\n\n}\n\n#tree_view .tree-node-active.tree-node-focused > .node-content-wrapper {\n  background: none !important;\n  color: orange !important;\n  font-weight: bold;\n}\n\n#tree_view .tree-node-active > .node-content-wrapper, .tree-node-focused > .node-content-wrapper, .node-content-wrapper:hover {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n\n.close-area{\n  border-top: 1px solid blanchedalmond;\n  padding-top: 5px;\n}\n\n@media print {\n  .no-print *{\n    display: none;\n  }\n  .no-print{\n    display: none;\n  }\n\n  .orgUnitName{\n    min-width: 130px;\n    height: 35px;\n    max-height: 35px;\n    font-size: 9px;\n  }\n  .table-bordered td{\n    /*border-top: 0.1em;*/\n  }\n  .legendItem{\n    width: 200px;\n    float: left;\n  }\n\n}\n\n/*scorecard indicator details*/\n\n.indicator_details{\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1050;\n  /*display: none;*/\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  outline: 0;\n  -webkit-transition: opacity .15s linear;\n  transition: opacity .15s linear;\n  background-color: rgba(0,0,0,.4);\n}\n\n.indicator_dialog{\n  width: 86%;\n  margin: 100px 7% auto 7%;\n}\n\n.indicator-content {\n  -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);\n  box-shadow: 0 5px 15px rgba(0,0,0,.5);\n  position: relative;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #999;\n  border: 1px solid rgba(0,0,0,.2);\n  border-radius: 6px;\n  outline: 0;\n  min-height: 200px;\n  padding: 10px;\n}\n\n.hide_no_group{\n  display: none;\n}\n\ntable * {\n  line-height: 80%;\n}\n\n.subtotal{\n  width:90px;max-width: 90px;\n}\n\n.indicator_title{\n  font-size: 10px;\n  width:90px;\n  max-width: 90px;\n  overflow-wrap: break-word;\n  cursor: pointer;\n  line-height: 140%\n}\n\n.list-group-item{\n  padding: 5px 15px\n}\n\n.removeorgunit{\n  cursor:pointer;\n  border: 1px solid rgba(95, 158, 160, 0.26);\n  padding-left: 2px;\n  padding-right: 2px;\n}\n\n.node-content-wrapper {\n  display: inline-block;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -webkit-box-align: baseline;\n      -ms-flex-align: baseline;\n          align-items: baseline;\n  min-height: 50px;\n}\n\n"

/***/ }),

/***/ "./src/app/org-unit/org-unit.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"tree-input disabled\" appClickOutside (clickOutside)=\"hideTree()\">\n  <div class=\"tree-input\" >\n    <div>\n      <div class=\"show_items\" (click)=\"displayOrgTree()\">\n          <span *ngIf=\"!orgunit_tree_config.loading\">\n              {{ getProperPreOrgunitName() }}\n          </span>\n        <span *ngIf=\"orgunit_model.selected_orgunits.length > 4 && orgunit_model.selection_mode != 'Usr_orgUnit'\">\n            <span class=\"selected-item\">\n              {{ orgunit_model.selected_orgunits[0].name }}\n              <a (click)=\"deActivateNode(orgunit_model.selected_orgunits[0].id,orgtree,$event)\" class=\"removeorgunit\" >x</a>\n            </span>\n            <span class=\"selected-item\">\n              {{ orgunit_model.selected_orgunits[1].name }}\n              <a (click)=\"deActivateNode(orgunit_model.selected_orgunits[1].id,orgtree,$event)\" class=\"removeorgunit\">x</a>\n            </span>\n            <span class=\"selected-item\">\n              &nbsp; and {{ orgunit_model.selected_orgunits.length - 2 }} more\n            </span>\n          </span>\n        <span *ngIf=\"orgunit_model.selected_orgunits.length <= 4 && orgunit_model.selection_mode != 'Usr_orgUnit'\">\n             <span *ngFor=\"let item of orgunit_model.selected_orgunits\" class=\"selected-item ng-binding ng-scope\">\n              {{ item.name }}\n               <a (click)=\"deActivateNode(item.id,orgtree,$event)\" class=\"removeorgunit\" *ngIf=\"orgunit_model.selected_orgunits.length > 1\">x</a>\n            </span>\n          </span>\n        <span class=\"no-selection\"*ngIf=\"orgunit_model.selected_orgunits.length == 0 && !orgunit_tree_config.loading && orgunit_model.selection_mode != 'Usr_orgUnit'\">{{ orgunit_tree_config.placeholder }}</span>\n        <span class=\"glyphicon glyphicon-triangle-bottom pull-right\" *ngIf=\"!orgunit_tree_config.loading\"></span>\n        <span *ngIf=\"orgunit_tree_config.loading\">{{ orgunit_tree_config.loading_message }}</span>\n      </div>\n      <div class=\"tree-view\" [ngClass]=\"{'hiddenTree':showOrgTree}\" id=\"tree_view\">\n        <div class=\"col-sm-6\" style=\"padding-left: 0px; margin-bottom: 5px\">\n          <label>Selection Mode</label>\n          <select id=\"selectionMode\" [(ngModel)]=\"orgunit_model.selection_mode\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"Usr_orgUnit\">User orgUnit</option>\n            <option value=\"orgUnit\">Select Organisation Unit</option>\n            <option value=\"Level\">Select Level</option>\n            <option value=\"Group\">Select Group</option>\n          </select>\n        </div>\n        <!--org_unit_groups-->\n        <div class=\"col-sm-6\" style=\"padding-right: 0px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Group'\">\n          <label>Available Groups</label>\n          <select id=\"groupSelection\" [(ngModel)]=\"orgunit_model.selected_group\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"\">Select Group</option>\n            <option *ngFor=\"let group of orgunit_model.orgunit_groups\"  value=\"OU_GROUP-{{ group.id }}\">{{ group.name }}</option>\n          </select>\n        </div>\n        <!--org_unit_groups-->\n        <div class=\"col-sm-6\" style=\"padding-right: 0px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Usr_orgUnit'\">\n          <label>Available Groups</label>\n          <select id=\"userOrgSelection\" [(ngModel)]=\"orgunit_model.selected_user_orgunit\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"USER_ORGUNIT\">User org unit</option>\n            <option value=\"USER_ORGUNIT_CHILDREN\">User sub-units</option>\n            <option value=\"USER_ORGUNIT_GRANDCHILDREN\">User sub-x2-units</option>\n          </select>\n        </div>\n        <!--org_unit_levels-->\n        <div class=\"col-sm-6\" style=\"padding-right: 2px; margin-bottom: 5px\" *ngIf=\"orgunit_model.selection_mode == 'Level'\">\n          <label>Available Levels</label>\n          <select id=\"levelSelection\" [(ngModel)]=\"orgunit_model.selected_level\" class=\"form-control\" style=\"height: 30px \">\n            <option value=\"\">Select Level</option>\n            <option *ngFor=\"let single_level of orgunit_model.orgUnitLevels\"  value=\"LEVEL-{{single_level.level}}\">{{ single_level.name }}</option>\n          </select>\n        </div>\n        <div class=\"search-area\">\n          <form *ngIf=\"!orgunit_tree_config.loading && orgunit_tree_config.show_search && orgunit_model.selection_mode != 'Usr_orgUnit'\" style=\"border-bottom: solid 1px blanchedalmond;\">\n            <input #filter (keyup)=\"filterNodes(filter.value, orgtree)\" placeholder=\"{{ orgunit_tree_config.search_text }}\" class=\"search_field\"/>\n          </form>\n        </div>\n        <div *ngIf=\"orgunit_tree_config.loading\">{{ orgunit_tree_config.loading_message }}</div>\n        <div class=\"tree-area\" [ngClass]=\"{'someclass': orgunit_model.selection_mode == 'Usr_orgUnit'}\">\n          <tree-root\n            #orgtree\n            [nodes]=\"organisationunits\"\n            [focused]=\"true\"\n            [options]=\"customTemplateStringOrgunitOptions\"\n            (activate)=\"activateOrg($event)\"\n            (deactivate)=\"deactivateOrg($event)\"\n          >\n            <ng-template #treeNodeTemplate let-node>\n              <span>{{ node.data.name }}</span>\n            </ng-template>\n          </tree-root>\n        </div>\n        <div class=\"close-area\">\n          <button class=\"btn btn-default pull-right\" style=\"height: 30px\"  (click)=\"displayOrgTree()\">\n            <span class=\"glyphicon glyphicon-remove\"></span> Close\n          </button>\n          <button *ngIf=\"orgunit_tree_config.show_update_button\" type=\"button\" class=\"btn btn-default pull-right\"  style=\"height: 30px\" (click)=\"updateOrgUnitModel()\">\n            <span class=\"glyphicon glyphicon-refresh\"></span>  Update\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"

/***/ }),

/***/ "./src/app/org-unit/org-unit.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrgUnitComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__ = __webpack_require__("./node_modules/angular-tree-component/dist/angular-tree-component.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services__ = __webpack_require__("./src/app/services/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var OrgUnitComponent = /** @class */ (function () {
    function OrgUnitComponent(constantService, orgUnitService) {
        var _this = this;
        this.constantService = constantService;
        this.orgUnitService = orgUnitService;
        /** Part of source code borrowed from Kelvin, HISP Tanzania **/
        // the object that will carry the output value you can send one from outside to config start values
        this.orgunit_model = {
            selection_mode: "Usr_orgUnit",
            selected_level: "",
            selected_group: "",
            orgUnitLevels: [],
            orgunit_groups: [],
            selected_orgunits: [],
            user_orgunits: [],
            type: "report",
            selected_user_orgunit: "USER_ORGUNIT"
        };
        // The organisation unit configuration object This will have to come from outside.
        this.orgunit_tree_config = {
            show_search: true,
            search_text: 'Search',
            level: null,
            loading: true,
            show_update_button: true,
            loading_message: 'Loading Organisation units...',
            multiple: false,
            multiple_key: "none",
            placeholder: "Select Organisation Unit"
        };
        this.onOrgUnitUpdate = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onOrgUnitInit = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.orgunitready = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.orgUnit = {};
        this.nodes = null;
        this.orgUnitLevels = [];
        this.organisationunits = [];
        this.selected_orgunits = [];
        // this variable controls the visibility of of the tree
        this.showOrgTree = true;
        // add item to array of selected items when item is selected
        this.activateOrg = function ($event) {
            if (_this.orgunit_model.selection_mode == "Usr_orgUnit") {
                _this.orgunit_model.selection_mode = "orgUnit";
            }
            _this.selected_orgunits = [$event.node.data];
            if (!_this.checkOrgunitAvailabilty($event.node.data, _this.orgunit_model.selected_orgunits)) {
                _this.orgunit_model.selected_orgunits.push($event.node.data);
            }
            _this.orgUnit = $event.node.data;
        };
        if (!this.orgunit_tree_config.hasOwnProperty("multiple_key")) {
            this.orgunit_tree_config.multiple_key = "none";
        }
    }
    OrgUnitComponent.prototype.updateModelOnSelect = function (data) {
        if (!this.orgunit_model.show_update_button) {
            this.onOrgUnitUpdate.emit({ name: 'ou', value: data.id });
            this.displayOrgTree();
        }
    };
    OrgUnitComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.orgunit_tree_config.multiple) {
            if (this.orgunit_tree_config.multiple_key == "none") {
                var actionMapping = {
                    mouse: {
                        dblClick: __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_EXPANDED,
                        click: function (node, tree, $event) { return __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event); }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
            else if (this.orgunit_tree_config.multiple_key == "control") {
                var actionMapping = {
                    mouse: {
                        click: function (node, tree, $event) {
                            $event.ctrlKey
                                ? __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event)
                                : __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event);
                        }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
            else if (this.orgunit_tree_config.multiple_key == "shift") {
                var actionMapping = {
                    mouse: {
                        click: function (node, tree, $event) {
                            $event.shiftKey
                                ? __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED_MULTI(node, tree, $event)
                                : __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event);
                        }
                    }
                };
                this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
            }
        }
        else {
            var actionMapping = {
                mouse: {
                    dblClick: __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_EXPANDED,
                    click: function (node, tree, $event) { return __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["a" /* TREE_ACTIONS */].TOGGLE_SELECTED(node, tree, $event); }
                }
            };
            this.customTemplateStringOrgunitOptions = { actionMapping: actionMapping };
        }
        // if (this.orgUnitService.nodes == null) {
        this.orgUnitService.getOrgunitLevelsInformation()
            .subscribe(function (data) {
            // assign urgunit levels and groups to variables
            _this.orgunit_model.orgUnitLevels = data.organisationUnitLevels;
            // setting organisation groups
            _this.orgUnitService.getOrgunitGroups().subscribe(function (groups) {
                _this.orgunit_model.orgunit_groups = groups;
            });
            // identify currently logged in usser
            _this.orgUnitService.getUserInformation(_this.orgunit_model.type).subscribe(function (userOrgunit) {
                var level = _this.orgUnitService.getUserHighestOrgUnitlevel(userOrgunit);
                _this.orgunit_model.user_orgunits = _this.orgUnitService.getUserOrgUnits(userOrgunit);
                _this.orgUnitService.user_orgunits = _this.orgUnitService.getUserOrgUnits(userOrgunit);
                if (_this.orgunit_model.selection_mode == "Usr_orgUnit") {
                    _this.orgunit_model.selected_orgunits = _this.orgunit_model.user_orgunits;
                }
                var all_levels = data.pager.total;
                var orgunits = _this.orgUnitService.getuserOrganisationUnitsWithHighestlevel(level, userOrgunit);
                var use_level = parseInt(all_levels) - (parseInt(level) - 1);
                // this.orgunit_model.user_orgunits = orgunits;
                //load inital orgiunits to speed up loading speed
                _this.orgUnitService.getInitialOrgunitsForTree(orgunits).subscribe(function (initial_data) {
                    _this.organisationunits = initial_data;
                    _this.orgunit_tree_config.loading = false;
                    // after done loading initial organisation units now load all organisation units
                    var fields = _this.orgUnitService.generateUrlBasedOnLevels(use_level);
                    _this.orgUnitService.getAllOrgunitsForTree1(fields, orgunits).subscribe(function (items) {
                        _this.organisationunits = items;
                        _this.orgunitready.emit(true);
                        //activate organisation units
                        for (var _i = 0, _a = _this.orgunit_model.selected_orgunits; _i < _a.length; _i++) {
                            var active_orgunit = _a[_i];
                            _this.activateNode(active_orgunit.id, _this.orgtree);
                        }
                        _this.prepareOrganisationUnitTree(_this.organisationunits, 'parent');
                    }, function (error) {
                        console.error('something went wrong while fetching Organisation units');
                        _this.orgunit_tree_config.loading = false;
                    });
                }, function (error) {
                    console.error('something went wrong while fetching Organisation units');
                    _this.orgunit_tree_config.loading = false;
                });
            });
        });
    };
    // display Orgunit Tree
    OrgUnitComponent.prototype.displayOrgTree = function () {
        this.showOrgTree = !this.showOrgTree;
    };
    OrgUnitComponent.prototype.hideTree = function () {
        this.showOrgTree = true;
    };
    OrgUnitComponent.prototype.activateNode = function (nodeId, nodes) {
        setTimeout(function () {
            var node = nodes.treeModel.getNodeById(nodeId);
            if (node)
                node.setIsActive(true, true);
        }, 0);
    };
    // a method to activate the model
    OrgUnitComponent.prototype.deActivateNode = function (nodeId, nodes, event) {
        setTimeout(function () {
            var node = nodes.treeModel.getNodeById(nodeId);
            if (node)
                node.setIsActive(false, true);
        }, 0);
        if (event != null) {
            event.stopPropagation();
        }
    };
    // check if orgunit already exist in the orgunit display list
    OrgUnitComponent.prototype.checkOrgunitAvailabilty = function (orgunit, array) {
        var checker = false;
        array.forEach(function (value) {
            if (value.id == orgunit.id) {
                checker = true;
            }
        });
        return checker;
    };
    // action to be called when a tree item is deselected(Remove item in array of selected items
    OrgUnitComponent.prototype.deactivateOrg = function ($event) {
        var _this = this;
        if (this.orgunit_model.selection_mode == "Usr_orgUnit") {
            this.orgunit_model.selection_mode = "orgUnit";
        }
        this.orgunit_model.selected_orgunits.forEach(function (item, index) {
            if ($event.node.data.id == item.id) {
                _this.orgunit_model.selected_orgunits.splice(index, 1);
            }
        });
    };
    ;
    OrgUnitComponent.prototype.prepareOrganisationUnitTree = function (organisationUnit, type) {
        var _this = this;
        if (type === void 0) { type = 'top'; }
        if (type == "top") {
            if (organisationUnit.children) {
                organisationUnit.children.sort(function (a, b) {
                    if (a.name > b.name) {
                        return 1;
                    }
                    if (a.name < b.name) {
                        return -1;
                    }
                    // a must be equal to b
                    return 0;
                });
                organisationUnit.children.forEach(function (child) {
                    _this.prepareOrganisationUnitTree(child, 'top');
                });
            }
        }
        else {
            organisationUnit.forEach(function (orgunit) {
                if (orgunit.children) {
                    orgunit.children.sort(function (a, b) {
                        if (a.name > b.name) {
                            return 1;
                        }
                        if (a.name < b.name) {
                            return -1;
                        }
                        // a must be equal to b
                        return 0;
                    });
                    orgunit.children.forEach(function (child) {
                        _this.prepareOrganisationUnitTree(child, 'top');
                    });
                }
            });
        }
    };
    OrgUnitComponent.prototype.updateOrgUnitModel = function () {
        this.displayOrgTree();
        this.onOrgUnitUpdate.emit({ name: 'ou', value: this.getOrgUnitsForAnalytics(this.orgunit_model, false) });
    };
    // prepare a proper name for updating the organisation unit display area.
    OrgUnitComponent.prototype.getProperPreOrgunitName = function () {
        var name = "";
        if (this.orgunit_model.selection_mode == "Group") {
            var use_value = this.orgunit_model.selected_group.split("-");
            for (var _i = 0, _a = this.orgunit_model.orgunit_groups; _i < _a.length; _i++) {
                var single_group = _a[_i];
                if (single_group.id == use_value[1]) {
                    name = single_group.name + " in";
                }
            }
        }
        else if (this.orgunit_model.selection_mode == "Usr_orgUnit") {
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT") {
                name = this.orgunit_model.user_orgunits[0].name;
            }
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT_CHILDREN") {
                name = this.getOrgUnitName(this.orgunit_model.user_orgunits[0].id) + " sub-units";
            }
            if (this.orgunit_model.selected_user_orgunit == "USER_ORGUNIT_GRANDCHILDREN") {
                name = this.getOrgUnitName(this.orgunit_model.user_orgunits[0].id) + " sub-x2-units";
            }
        }
        else if (this.orgunit_model.selection_mode == "Level") {
            var use_level = this.orgunit_model.selected_level.split("-");
            for (var _b = 0, _c = this.orgunit_model.orgUnitLevels; _b < _c.length; _b++) {
                var single_level = _c[_b];
                if (single_level.level == use_level[1]) {
                    name = single_level.name + " in";
                }
            }
        }
        else {
            name = "";
        }
        return name;
    };
    // get user organisationunit name
    OrgUnitComponent.prototype.getOrgUnitName = function (id) {
        var orgunit = this.orgtree.treeModel.getNodeById(id);
        return orgunit.name;
    };
    // a function to prepare a list of organisation units for analytics
    OrgUnitComponent.prototype.getOrgUnitsForAnalytics = function (orgunit_model, with_children) {
        var orgUnits = [];
        var organisation_unit_analytics_string = "";
        // if the selected orgunit is user org unit
        if (orgunit_model.selection_mode == "Usr_orgUnit") {
            if (orgunit_model.user_orgunits.length == 1) {
                var user_orgunit = this.orgtree.treeModel.getNodeById(orgunit_model.user_orgunits[0].id);
                orgUnits.push(user_orgunit.id);
                if (user_orgunit.hasOwnProperty('children') && with_children) {
                    for (var _i = 0, _a = user_orgunit.children; _i < _a.length; _i++) {
                        var orgunit = _a[_i];
                        orgUnits.push(orgunit.id);
                    }
                }
            }
            else {
                organisation_unit_analytics_string += orgunit_model.selected_user_orgunit;
            }
        }
        else {
            // if there is only one organisation unit selected
            if (orgunit_model.selected_orgunits.length == 1) {
                var detailed_orgunit = this.orgtree.treeModel.getNodeById(orgunit_model.selected_orgunits[0].id);
                orgUnits.push(detailed_orgunit.id);
                if (detailed_orgunit.hasOwnProperty('children') && with_children) {
                    for (var _b = 0, _c = detailed_orgunit.children; _b < _c.length; _b++) {
                        var orgunit = _c[_b];
                        orgUnits.push(orgunit.id);
                    }
                }
            }
            else {
                orgunit_model.selected_orgunits.forEach(function (orgunit) {
                    orgUnits.push(orgunit.id);
                });
            }
            if (orgunit_model.selection_mode == "orgUnit") {
            }
            if (orgunit_model.selection_mode == "Level") {
                organisation_unit_analytics_string += orgunit_model.selected_level + ";";
            }
            if (orgunit_model.selection_mode == "Group") {
                organisation_unit_analytics_string += orgunit_model.selected_group + ";";
            }
        }
        return organisation_unit_analytics_string + orgUnits.join(";");
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], OrgUnitComponent.prototype, "orgunit_model", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], OrgUnitComponent.prototype, "orgunit_tree_config", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitComponent.prototype, "onOrgUnitUpdate", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitComponent.prototype, "onOrgUnitInit", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], OrgUnitComponent.prototype, "orgunitready", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('orgtree'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_angular_tree_component__["b" /* TreeComponent */])
    ], OrgUnitComponent.prototype, "orgtree", void 0);
    OrgUnitComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-org-unit',
            template: __webpack_require__("./src/app/org-unit/org-unit.component.html"),
            styles: [__webpack_require__("./src/app/org-unit/org-unit.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__services__["a" /* ConstantService */],
            __WEBPACK_IMPORTED_MODULE_2__services__["b" /* OrgUnitService */]])
    ], OrgUnitComponent);
    return OrgUnitComponent;
}());



/***/ }),

/***/ "./src/app/outbreak-inventory/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__outbreak_inventory_component__ = __webpack_require__("./src/app/outbreak-inventory/outbreak-inventory.component.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__outbreak_inventory_component__["a"]; });



/***/ }),

/***/ "./src/app/outbreak-inventory/outbreak-inventory.component.css":
/***/ (function(module, exports) {

module.exports = ".tree-view {\n  text-align: left;\n  background-color: #fff;\n  position: absolute;\n  z-index: 1000;\n  border: 1px solid rgba(0, 0, 0, .15);\n  border-radius: 4px;\n  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n  min-width: 370px;\n  margin-right: 30px;\n  max-height: 360px;\n  overflow: auto;\n  padding: 10px 5px;\n  margin-top: 38px;\n}\n.top-heading{\n   padding: 10px 15px;\n}\n.datatable-row-odd{\n  background: grey;\n}\n.mat-form-field {\n    padding-left: 30px;\n    padding-right: 30px;\n}\n.is-program-stage {\n  min-height: 90px !important;\n  min-width:50px;\n  min-width:250px;\n  display: table;\n}\n.is-program-stage-cell {\n  width:50px;\n  padding: 5px 10px;\n  display: table-cell;\n}\n.datatable-header {\n  min-height: 90px !important;\n}\n.datatable-header-cell {\n    text-align: left;\n    padding: .9rem 1.2rem;\n    font-weight: 400;\n    vertical-align: top !important;\n    font-size: 14px;\n}\n\n\n"

/***/ }),

/***/ "./src/app/outbreak-inventory/outbreak-inventory.component.html":
/***/ (function(module, exports) {

module.exports = "<div>\n  <mat-radio-group class=\"idsr-radio-group\"  [(ngModel)]=\"selectedChoice\" name=\"selectChoice\">\n    <mat-radio-button (change)=\"setReportType(choice.id)\" class=\"idsr-radio-button\" *ngFor=\"let choice of choices\" [value]=\"choice.id\">\n      {{choice.name}}\n    </mat-radio-button>\n  </mat-radio-group>\n  <div  *ngIf=\"selectedType == 'epiCurve' && selectedType  != 'lineListing' && selectedType  != 'outbreakReport'\">\n    <div>\n      <form [formGroup]=\"outbreakEpiCurveForm\">\n        <div class=\"form-container\">\n          <div class=\"row columns\">\n            <h1>epi Curve</h1>\n            <div class=\"top-heading\">\n              <app-org-unit-limited #ouTreeOutbreaks></app-org-unit-limited>\n            </div>\n            <mat-form-field>\n              <mat-select (change)=\"getEpidemics(outbreakEpiCurveForm.value.epiCurveDisease)\" placeholder=\"Diseases\" formControlName=\"epiCurveDisease\">\n                <mat-option>None</mat-option>\n                <mat-option *ngFor=\"let disv of dataStores\" [value]=\"disv.disease\" >{{disv.disease}}</mat-option>\n              </mat-select>\n            </mat-form-field>\n            <mat-form-field>\n              <mat-select (change)=\"drawEpiCurve()\" placeholder=\"Outbreaks\" formControlName=\"epiCurveEpidemic\">\n                <mat-option>None</mat-option>\n                <mat-option *ngFor=\"let outbreakv of outbreaks\" [value]=\"outbreakv\" >{{outbreakv.epicode}}</mat-option>\n              </mat-select>\n            </mat-form-field>\n            <mat-radio-group  (change)=\"drawEpiCurve()\" class=\"idsr-radio-group\" formControlName=\"selectedPeriodType\">\n              <mat-radio-button class=\"idsr-radio-button\" *ngFor=\"let periodType of periodTypes\" [value]=\"periodType.id\">\n                {{periodType.name}}\n              </mat-radio-button>\n            </mat-radio-group>\n          </div>\n        </div>\n      </form>\n    </div>  \n    <div class=\"table-container table-responsive mat-elevation-z2\">\n    <fusioncharts\n        [id]=\"id\"\n        [width]=\"width\"\n        [height]=\"height\"\n        [type]=\"type\"\n        [dataFormat]=\"dataFormat\"\n        [dataSource]=\"dataSource\">\n    </fusioncharts>\n    </div>\n  </div>\n  <div *ngIf=\"selectedType == 'outbreakReport' && selectedType  != 'epiCurve' && selectedType  != 'lineListing'\">\n    <div>\n      <form [formGroup]=\"outbreakInventoryForm\">\n        <div class=\"form-container\">\n          <div class=\"row columns\">\n            <h1>Outbreak Report</h1>\n            <div class=\"top-heading\">\n              <app-org-unit-limited #ouTreeOutbreaks></app-org-unit-limited>\n            </div>\n            <mat-form-field>\n              <mat-select (change)=\"getEpidemics(outbreakInventoryForm.value.disease)\" placeholder=\"Diseases\" formControlName=\"disease\">\n      \t\t      <mat-option>None</mat-option>\n      \t\t      <mat-option *ngFor=\"let dis of dataStores\" [value]=\"dis.disease\" >{{dis.disease}}</mat-option>\n          \t\t</mat-select>\n            </mat-form-field>\n            <mat-form-field>\n              <mat-select (change)=\"getIndicatorDiseaseData(dataStores,outbreakInventoryForm.value.disease,outbreakInventoryForm.value.epidemic)\" placeholder=\"Outbreaks\" formControlName=\"epidemic\">\n          \t\t  <mat-option>None</mat-option>\n          \t\t  <mat-option *ngFor=\"let outbreak of outbreaks\" [value]=\"outbreak\" >{{outbreak.epicode}}</mat-option>\n          \t\t</mat-select>\n            </mat-form-field>\n          </div>\n        </div>\n      </form>\n    </div>\n    <div class=\"table-container table-responsive mat-elevation-z2\">\n      <table *ngFor=\"let item of programIndicatorData\" class=\"table table-bordered\" style=\"width:70%\">\n        <tr *ngFor=\"let o of item.headers\">\n          <td class=\"tb-label\">{{o.title}}</td><td>{{o.value}}</td>\n        </tr>       \n        <tr class=\"trhbordered\">\n          <th>No</th> <th>Indicator</th><th>Description</th><th class=\"indicator\">Total Number</th>\n        </tr>\n        <tr *ngFor=\"let i of item.dataValues; let n=index\" class=\"trbordered\">\n         <td>{{(n+1)}}</td>\n         <td>{{i.title}}</td><td>{{i.description}}</td><td class=\"indicator\">{{i.value}}</td>\n        </tr>\n        <tr class=\"trbordered\">\n          <td>{{item.dataValues?.length + 1}}</td>\n          <td>Date First Case Admitted</td><td>Date First Case Admitted</td><td class=\"indicator\">{{ firstCaseDate}}</td>\n        </tr>\n        <tr class=\"trbordered\">\n          <td>{{item.dataValues?.length + 2}}</td>\n          <td>Date Last Case Admitted</td><td>Date Last Case Admitted</td><td class=\"indicator\">{{ lastCaseDate}}</td>\n        </tr>     \n      </table>\n    </div>\n  </div>\n  <div *ngIf=\"selectedType  == 'lineListing' && selectedType  != 'epiCurve' && selectedType  != 'outbreakReport'\">\n    \n      <div class=\"form-container\">\n        <div class=\"row columns\">\n            <h1>Line Listing</h1>\n          <form [formGroup]=\"outbreakLineListingForm\">\n            <div class=\"top-heading\">\n              <app-org-unit #ouTree></app-org-unit>\n            </div>\n            <div class=\"top-heading\">\n              <mat-form-field>\n                <mat-select (change)=\"getProgramStages(outbreakLineListingForm.value.program)\" placeholder=\"Programs\" formControlName=\"program\">\n                  <mat-option>None</mat-option>\n                  <mat-option *ngFor=\"let program of programs\" [value]=\"program\" >{{program.name}}</mat-option>\n                </mat-select>\n              </mat-form-field>\n              <mat-form-field *ngIf=\"selectedProgramType == 'WITH_REGISTRATION'\">\n                <mat-select (change)=\"getLineListingReport()\" multiple placeholder=\"Program Stages\" formControlName=\"programStages\">\n                  <mat-option>None</mat-option>\n                  <mat-option *ngFor=\"let programStage of programStages\" [value]=\"programStage\" >{{programStage.name }}</mat-option>\n                </mat-select>\n              </mat-form-field>\n              <mat-form-field>\n                <input matInput [matDatepicker]=\"startDate\" (dateChange)=\"getLineListingReport()\" placeholder=\"Start Date\" formControlName=\"programStartDate\">\n                <mat-datepicker-toggle matSuffix [for]=\"startDate\"></mat-datepicker-toggle>\n                <mat-datepicker #startDate touchUi=\"true\" startView=\"month\" [startAt]=\"beginStartDate\"></mat-datepicker>\n              </mat-form-field>\n              <mat-form-field>\n                <input matInput [matDatepicker]=\"endDate\" (dateChange)=\"getLineListingReport()\" placeholder=\"End Date\" formControlName=\"programEndDate\">\n                <mat-datepicker-toggle matSuffix [for]=\"endDate\"></mat-datepicker-toggle>\n                <mat-datepicker #endDate touchUi=\"true\" startView=\"month\" [startAt]=\"beginEndDate\"></mat-datepicker>\n              </mat-form-field>\n            </div>\n          </form>  \n        </div>\n        <div>\n          <ngx-datatable\n            class=\"material\"\n            [rows]=\"rows\"\n            [columns]=\"columns\"\n            [columnMode]=\"'force'\"\n            [loadingIndicator]=\"loadingIndicator\" \n            [headerHeight]=\"50\"\n            [footerHeight]=\"50\"\n            [rowHeight]=\"'auto'\"\n            [reorderable]=\"reorderable\"\n            [scrollbarV]=\"false\"\n            [limit]=\"50\"\n            [scrollbarH]=\"true\">\n\n          </ngx-datatable>\n          <ng-template #pgStagesHeader let-column=\"column\">            \n              <table class=\"datatable-header\">\n                <thead>\n                  <tr>\n                    <th class=\"datatable-header-test-cell\" colspan=\"(getProgramStageColumns(selectedProgramStages,column.prop)).length\"><strong>{{ column.name }}</strong></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td class=\"datatable-header-test-cell\" *ngFor=\"let psColumn of getProgramStageColumns(selectedProgramStages,column.prop)\">{{ psColumn.name }}</td>\n                  </tr>\n                </tbody>\n              </table>\n          </ng-template>\n          <ng-template #pgStages let-value=\"value\" let-column=\"column\" cellClass=\"is-program-stage-cell\">\n              <table>\n                <tr *ngFor=\"let val of value\">\n                  <td class=\"datatable-header-test-cell\" *ngFor=\"let psColumnx of getProgramStageColumns(selectedProgramStages,column.prop)\">{{ val[psColumnx.prop] }}</td>\n                </tr>\n              </table>\n          </ng-template>\n        </div>\n      </div>\n        \n  </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/outbreak-inventory/outbreak-inventory.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OutbreakInventoryComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/startWith.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_merge__ = __webpack_require__("./node_modules/rxjs/_esm5/add/observable/merge.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_util__ = __webpack_require__("./node_modules/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_util___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_util__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services__ = __webpack_require__("./src/app/services/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__org_unit__ = __webpack_require__("./src/app/org-unit/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__org_unit_limited__ = __webpack_require__("./src/app/org-unit-limited/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var OutbreakInventoryComponent = /** @class */ (function () {
    function OutbreakInventoryComponent(fb, piService, orgUnitService, outbreakInventoryService) {
        this.fb = fb;
        this.piService = piService;
        this.orgUnitService = orgUnitService;
        this.outbreakInventoryService = outbreakInventoryService;
        this.disease = '';
        this.outbreaks = [];
        this.programIndicators = [];
        this.dataStores = [];
        this.programs = [];
        this.programStages = [];
        this.selectedProgramStages = [];
        this.epidemics = [];
        this.dataStore = 'ugxzr_idsr_app';
        this.diseaseProgramIndicators = [];
        this.programIndicatorData = [];
        this.data = [];
        this.choices = [];
        this.periodTypes = [];
        this.trackedEntityInstances = [];
        this.events = [];
        this.beginEndDate = __WEBPACK_IMPORTED_MODULE_6_moment__().format('YYYY-MM-DD');
        this.beginStartDate = __WEBPACK_IMPORTED_MODULE_6_moment__(__WEBPACK_IMPORTED_MODULE_6_moment__().subtract(30, 'days')).format('YYYY-MM-DD');
        this.rows = [];
        this.columns = [];
        this.loadingIndicator = true;
        this.reorderable = true;
        this.firstCaseDate = "";
        this.lastCaseDate = "";
        this.epiChartData = [];
        this.selectedType = "epiCurve";
        this.selectedProgramType = "";
        this.id = 'chart1';
        this.width = '90%';
        this.height = '90%';
        this.type = 'stackedcolumn2d';
        this.dataFormat = 'json';
        this.title = '';
        this.dataSource = {};
        this.outbreakInventoryForm = fb.group({
            'disease': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'location': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'epidemic': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].minLength(30), __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].maxLength(500)])],
        });
        this.selectedChoice = 'epiCurve';
        this.selectedType = "epiCurve";
        this.selectEpiCurveForm = fb.group({
            'selectedPeriodType': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
        });
        this.outbreakLineListingForm = fb.group({
            'orgUnit': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'program': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'programStages': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'programStartDate': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'programEndDate': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
        });
        this.outbreakEpiCurveForm = fb.group({
            'epiCurveDisease': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'selectedPeriodType': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required],
            'epiCurveEpidemic': [null, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].minLength(30), __WEBPACK_IMPORTED_MODULE_1__angular_forms__["j" /* Validators */].maxLength(500)])],
        });
        this.periodTypes = [
            {
                'name': 'Weekly',
                'id': 'weekly',
                'checked': false
            },
            {
                'name': 'Daily',
                'id': 'daily',
                'checked': true
            }
        ];
        this.choices = [
            {
                'name': 'Outbreak Report',
                'id': 'outbreakReport',
                'prop': "Outbreaks"
            },
            {
                'name': 'epi Curve',
                'id': 'epiCurve',
                'prop': "epiCurve"
            },
            {
                'name': 'Line Listing',
                'id': 'lineListing',
                'prop': "Listing"
            },
            {
                'name': 'Epi Docs',
                'id': 'epiDocs',
                'prop': 'epiDocs'
            }
        ];
        this.dataSource = {
            "chart": {
                "caption": "epi Curve",
                "subCaption": "",
                "numberprefix": "",
                "theme": "fint",
                "yaxisname": "Number of Cases",
                "xaxisname": "Period",
                "exportEnabled": "1"
            },
            "categories": [{
                    "category": []
                }],
            "dataset": [
                {
                    "seriesname": "Confirmed",
                    "data": []
                },
                {
                    "seriesname": "Suspected",
                    "data": []
                },
                {
                    "seriesname": "Deaths",
                    "data": []
                }
            ]
        };
    }
    OutbreakInventoryComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.piService.getDataStores(this.dataStore, 'diseases').subscribe(function (dataStoreValues) {
            _this.dataStores = dataStoreValues.diseases;
        });
        this.outbreakInventoryService.getPrograms().subscribe(function (programValues) {
            _this.programs = programValues.programs;
        });
    };
    OutbreakInventoryComponent.prototype.ngAfterViewInit = function () {
    };
    OutbreakInventoryComponent.prototype.getEpidemics = function (disease) {
        var _this = this;
        this.piService.getDataStores(this.dataStore, 'epidemics').subscribe(function (epiStoreValues) {
            _this.epidemics = epiStoreValues;
            _this.outbreaks = _this.piService.getEpiCode(_this.epidemics, disease);
            _this.epiChartData = [];
            _this.programIndicatorData = [];
        });
    };
    OutbreakInventoryComponent.prototype.getIndicatorDiseaseData = function (dataStoreValues, disease, outbreak) {
        var _this = this;
        var orgUnitOutbreaks = this.orgTreeOutbreaks.orgUnit.id;
        this.programIndicators = this.piService.getProgramIndicators(dataStoreValues, disease);
        this.diseaseProgramIndicators = this.piService.createArrayFromObject(this.programIndicators.programOutbreakIndicators);
        // Query analytics to return report
        var period = 'LAST_12_MONTHS';
        //let ou = 'QYiQ2KqgCxj';	
        if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(outbreak)) {
            var ou_1 = outbreak.orgUnit;
            this.firstCaseDate = __WEBPACK_IMPORTED_MODULE_6_moment__(outbreak.firstCaseDate).format("DD-MM-YYYY");
            this.lastCaseDate = __WEBPACK_IMPORTED_MODULE_6_moment__(outbreak.lastCaseDate).format("DD-MM-YYYY");
            //let ou = outbreak.reportingOrgUnit;
            var outbreakInds = this.diseaseProgramIndicators.join(';');
            this.piService.getAnalyticsData(outbreakInds, ou_1, period).subscribe(function (analyticsData) {
                if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(analyticsData.headers) && !Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(_this.programIndicators.programOutbreakIndicators)) {
                    var headerdata_1 = 0;
                    headerdata_1 = analyticsData.headers.length - _this.programIndicators.programOutbreakIndicators.length;
                    //ou = analyticsData.rows[0][headerdata - 4]
                    _this.orgUnitService.getOrgUnitParents(ou_1).subscribe(function (orgUnit) {
                        _this.programIndicatorData = _this.piService.displayAnalyticsEpidemics(analyticsData.rows, _this.programIndicators.programOutbreakIndicators, orgUnit, headerdata_1, outbreak);
                    });
                }
            });
        }
        else {
            this.programIndicatorData = [];
        }
        return this.programIndicatorData;
    };
    OutbreakInventoryComponent.prototype.drawEpiCurve = function () {
        var _this = this;
        //let orgUnitOutbreaks:any = this.orgTreeOutbreaks.orgUnit.id;
        if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(this.outbreakEpiCurveForm.value.epiCurveDisease)) {
            var disease = this.outbreakEpiCurveForm.value.epiCurveDisease;
            this.programIndicators = this.piService.getProgramIndicators(this.dataStores, disease);
            this.diseaseProgramIndicators = this.piService.createArrayFromObject(this.programIndicators.programIndicators);
            if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(this.outbreakEpiCurveForm.value.epiCurveEpidemic)) {
                var outbreak_1 = this.outbreakEpiCurveForm.value.epiCurveEpidemic;
                var ou = outbreak_1.orgUnit;
                var ouName_1 = outbreak_1.orgUnitName;
                var periodType_1 = this.outbreakEpiCurveForm.value.selectedPeriodType;
                var outbreakInds = this.diseaseProgramIndicators.join(';');
                var startDate = __WEBPACK_IMPORTED_MODULE_6_moment__(outbreak_1.firstCaseDate);
                var endDate = outbreak_1.endDate;
                if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(endDate)) {
                    endDate = __WEBPACK_IMPORTED_MODULE_6_moment__().add(1, 'days').format("YYYY-MM-DD");
                }
                else {
                    endDate = __WEBPACK_IMPORTED_MODULE_6_moment__(outbreak_1.endDate);
                }
                if (Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(periodType_1)) {
                    periodType_1 = 'daily';
                }
                var period_1 = this.piService.generatePeriods(startDate, endDate, periodType_1);
                var periods = period_1.join(';');
                this.piService.getAnalyticsDataForEpiCurve(outbreakInds, ou, periods, periodType_1).subscribe(function (analyticsData) {
                    if (!Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(analyticsData.rows) && !Object(__WEBPACK_IMPORTED_MODULE_5_util__["isNullOrUndefined"])(_this.programIndicators.programIndicators)) {
                        _this.dataSource.chart.caption = "epi Curve: " + outbreak_1.disease + " in " + ouName_1;
                        _this.dataSource.chart.xaxisname = "Period ( " + periodType_1 + " )";
                        if (periodType_1 === 'daily') {
                            _this.epiChartData = _this.piService.createEpiCurveData(analyticsData.rows, _this.diseaseProgramIndicators, period_1);
                            _this.dataSource.categories = [];
                            _this.dataSource.categories.push({ "category": _this.epiChartData.categories });
                            _this.dataSource.dataset = [];
                            _this.dataSource.dataset = _this.epiChartData.dataset;
                            /*
                            if (this.chart) {
                                 this.chart.addSeries(o.json(), true)
                            }
                            */
                        }
                        else {
                            _this.epiChartData = _this.piService.createEpiCurveData(analyticsData.rows, _this.diseaseProgramIndicators, period_1);
                            _this.dataSource.categories = [];
                            _this.dataSource.categories.push({ "category": _this.epiChartData.categories });
                            _this.dataSource.dataset = [];
                            _this.dataSource.dataset = _this.epiChartData.allcases;
                        }
                    }
                    else {
                        _this.epiChartData = [];
                    }
                });
            }
            else {
                console.log("Select the outbreak/epidemic");
                this.epiChartData = [];
            }
        }
        else {
            console.log("Please select the disease");
            this.epiChartData = [];
        }
        return this.dataSource;
    };
    OutbreakInventoryComponent.prototype.getProgramStages = function (program) {
        this.programStages = program.programStages;
        var programType = this.outbreakLineListingForm.value.program.programType;
        this.selectedProgramType = programType;
        if (this.selectedProgramType === "WITHOUT_REGISTRATION") {
            this.getLineListingReport();
        }
        return this.programStages;
    };
    OutbreakInventoryComponent.prototype.setReportType = function (event) {
        this.selectedType = "";
        this.selectedType = event;
        this.selectedChoice = event;
        return this.selectedType;
    };
    OutbreakInventoryComponent.prototype.getLineListingReport = function () {
        var _this = this;
        var orgUnit = this.orgTree.orgUnit.id;
        var program = this.outbreakLineListingForm.value.program;
        var programType = this.outbreakLineListingForm.value.program.programType;
        this.selectedProgramType = programType;
        var programStartDate = this.outbreakLineListingForm.value.programStartDate;
        var programEndDate = this.outbreakLineListingForm.value.programEndDate;
        if (programType === "WITH_REGISTRATION") {
            this.selectedProgramStages = this.outbreakLineListingForm.value.programStages;
            this.outbreakInventoryService.getTrackedEntityInstances(orgUnit, program.id, programStartDate, programEndDate).subscribe(function (teis) {
                _this.loadingIndicator = false;
                _this.trackedEntityInstances = _this.outbreakInventoryService.createColumnData(teis);
                _this.outbreakInventoryService.getEvents(orgUnit, program.id, programStartDate, programEndDate).subscribe(function (evs) {
                    _this.events = evs.events;
                    var eventsModified = _this.outbreakInventoryService.filterEventsByTrackedEntityInstance(_this.events);
                    _this.rows = _this.outbreakInventoryService.getEventsByTrackedEntityInstance(_this.trackedEntityInstances, eventsModified, _this.selectedProgramStages);
                    var programColumns = _this.outbreakInventoryService.getColumns(teis.headers);
                    var stageColumns = _this.outbreakInventoryService.createProgramStageColumns(_this.selectedProgramStages, _this.pgStages, _this.pgStagesHeader);
                    _this.columns = _this.outbreakInventoryService.mergeProgramAndProgramStageColumns(programColumns, stageColumns);
                });
            });
        }
        else {
            this.selectedProgramStages = this.outbreakLineListingForm.value.program.programStages[0];
            this.outbreakInventoryService.getEvents(orgUnit, program.id, programStartDate, programEndDate).subscribe(function (evs) {
                _this.loadingIndicator = false;
                _this.events = evs.events;
                _this.rows = _this.outbreakInventoryService.getSingleEventData(evs.events);
                _this.columns = _this.outbreakInventoryService.getSingleEventColumns(_this.selectedProgramStages);
            });
        }
    };
    OutbreakInventoryComponent.prototype.tableEvents = function (value) {
        if (value) {
            console.log(value);
        }
    };
    OutbreakInventoryComponent.prototype.getProgramStageColumns = function (programStages, programStageId) {
        var selectedStageColumns = this.outbreakInventoryService.createProgramStageDataElementColumns(programStages, programStageId);
        return selectedStageColumns;
    };
    OutbreakInventoryComponent.prototype.getRowClass = function (row) {
        return {
            'is-even': (row.$$index % 2) === 0
        };
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('ouTree'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_8__org_unit__["a" /* OrgUnitComponent */])
    ], OutbreakInventoryComponent.prototype, "orgTree", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('ouTreeOutbreaks'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_9__org_unit_limited__["a" /* OrgUnitLimitedComponent */])
    ], OutbreakInventoryComponent.prototype, "orgTreeOutbreaks", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('pgStages'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["TemplateRef"])
    ], OutbreakInventoryComponent.prototype, "pgStages", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('pgStagesHeader'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["TemplateRef"])
    ], OutbreakInventoryComponent.prototype, "pgStagesHeader", void 0);
    OutbreakInventoryComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-outbreak-inventory',
            template: __webpack_require__("./src/app/outbreak-inventory/outbreak-inventory.component.html"),
            styles: [__webpack_require__("./src/app/outbreak-inventory/outbreak-inventory.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_7__services__["b" /* OrgUnitService */], __WEBPACK_IMPORTED_MODULE_7__services__["d" /* ProgramIndicatorsService */], __WEBPACK_IMPORTED_MODULE_7__services__["c" /* OutbreakInventoryService */], __WEBPACK_IMPORTED_MODULE_7__services__["a" /* ConstantService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_7__services__["d" /* ProgramIndicatorsService */], __WEBPACK_IMPORTED_MODULE_7__services__["b" /* OrgUnitService */], __WEBPACK_IMPORTED_MODULE_7__services__["c" /* OutbreakInventoryService */]])
    ], OutbreakInventoryComponent);
    return OutbreakInventoryComponent;
}());



/***/ }),

/***/ "./src/app/services/constant.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConstantService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs__ = __webpack_require__("./node_modules/rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Created by kelvin on 9/19/16.
 */
var ConstantService = /** @class */ (function () {
    function ConstantService(http) {
        this.http = http;
        this.ROOTURL = null;
        this.ROOTURL = '../../../';
    }
    ConstantService.prototype.load = function () {
        return this.http.get("manifest.webapp");
    };
    ConstantService.prototype.handleError = function (error) {
        // In a real world app, we might use a remote logging infrastructure
        var errMsg;
        if (error) {
            var body = error.json() || '';
            var err = body.error || JSON.stringify(body);
            errMsg = error.status + " - " + (error.statusText || '') + " " + err;
        }
        else {
            errMsg = error.message ? error.message : error.toString();
        }
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs__["Observable"].throw(errMsg);
    };
    ConstantService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], ConstantService);
    return ConstantService;
}());



/***/ }),

/***/ "./src/app/services/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constant_service__ = __webpack_require__("./src/app/services/constant.service.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__constant_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__org_unit_service__ = __webpack_require__("./src/app/services/org-unit.service.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__org_unit_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__program_indicators_service__ = __webpack_require__("./src/app/services/program-indicators.service.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_2__program_indicators_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__outbreak_inventory_service__ = __webpack_require__("./src/app/services/outbreak-inventory.service.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_3__outbreak_inventory_service__["a"]; });






/***/ }),

/***/ "./src/app/services/org-unit.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrgUnitService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services__ = __webpack_require__("./src/app/services/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var OrgUnitService = /** @class */ (function () {
    function OrgUnitService(http, constant) {
        this.http = http;
        this.constant = constant;
        this.nodes = null;
        this.orgunit_levels = [];
        this.user_orgunits = [];
        this.orgunit_groups = [];
        this.initial_orgunits = [];
    }
    // Get current user information
    OrgUnitService.prototype.getUserInformation = function (priority) {
        if (priority === void 0) { priority = null; }
        if (priority === false) {
            return this.http.get(this.constant.ROOTURL + 'api/me.json?fields=dataViewOrganisationUnits[id,name,level],organisationUnits[id,name,level]');
        }
        else {
            return this.http.get(this.constant.ROOTURL + 'api/me.json?fields=organisationUnits[id,name,level]');
        }
    };
    OrgUnitService.prototype.getuserOrganisationUnitsWithHighestlevel = function (level, userOrgunits) {
        var orgunits = [];
        if (!userOrgunits.hasOwnProperty('dataViewOrganisationUnits')) {
            userOrgunits.organisationUnits.forEach(function (orgunit) {
                if (orgunit.level === level) {
                    orgunits.push(orgunit.id);
                }
            });
        }
        else {
            if (userOrgunits.dataViewOrganisationUnits.length === 0) {
                userOrgunits.organisationUnits.forEach(function (orgunit) {
                    if (orgunit.level === level) {
                        orgunits.push(orgunit.id);
                    }
                });
            }
            else {
                level = userOrgunits.dataViewOrganisationUnits[0].level;
                userOrgunits.dataViewOrganisationUnits.forEach(function (orgunit) {
                    if (orgunit.level === level) {
                        orgunits.push(orgunit.id);
                    }
                });
            }
        }
        return orgunits;
    };
    /**
     * get the highest level among organisation units that user belongs to
     * @param userOrgunits
     * @returns {any}
     */
    OrgUnitService.prototype.getUserHighestOrgUnitlevel = function (userOrgunits) {
        var level;
        var orgunits = [];
        if (!userOrgunits.hasOwnProperty('dataViewOrganisationUnits')) {
            level = userOrgunits.organisationUnits[0].level;
            userOrgunits.organisationUnits.forEach(function (orgunit) {
                if (orgunit.level <= level) {
                    level = orgunit.level;
                }
            });
        }
        else {
            if (userOrgunits.dataViewOrganisationUnits.length === 0) {
                level = userOrgunits.organisationUnits[0].level;
                userOrgunits.organisationUnits.forEach(function (orgunit) {
                    if (orgunit.level <= level) {
                        level = orgunit.level;
                    }
                });
            }
            else {
                level = userOrgunits.dataViewOrganisationUnits[0].level;
                userOrgunits.dataViewOrganisationUnits.forEach(function (orgunit) {
                    if (orgunit.level <= level) {
                        level = orgunit.level;
                    }
                });
            }
        }
        return level;
    };
    /**
     * get the list of user orgunits as an array
     * @param userOrgunits
     * @returns {any}
     */
    OrgUnitService.prototype.getUserOrgUnits = function (userOrgunits) {
        var orgunits = [];
        if (!userOrgunits.hasOwnProperty('dataViewOrganisationUnits')) {
            userOrgunits.organisationUnits.forEach(function (orgunit) {
                orgunits.push(orgunit);
            });
        }
        else {
            if (userOrgunits.dataViewOrganisationUnits.length === 0) {
                userOrgunits.organisationUnits.forEach(function (orgunit) {
                    orgunits.push(orgunit);
                });
            }
            else {
                userOrgunits.dataViewOrganisationUnits.forEach(function (orgunit) {
                    orgunits.push(orgunit);
                });
            }
        }
        return orgunits;
    };
    OrgUnitService.prototype.prepareOrgunits = function (priority) {
        var _this = this;
        if (priority === void 0) { priority = null; }
        this.getOrgunitLevelsInformation()
            .subscribe(function (data) {
            _this.orgunit_levels = data.organisationUnitLevels;
            _this.getUserInformation(priority).subscribe(function (userOrgunit) {
                _this.user_orgunits = _this.getUserOrgUnits(userOrgunit);
                var level = _this.getUserHighestOrgUnitlevel(userOrgunit);
                var all_levels = data.pager.total;
                var orgunits = _this.getuserOrganisationUnitsWithHighestlevel(level, userOrgunit);
                var use_level = parseInt(all_levels) - (parseInt(level) - 1);
                var fields = _this.generateUrlBasedOnLevels(use_level);
                _this.getAllOrgunitsForTree1(fields, orgunits).subscribe(function (items) {
                    //noinspection TypeScriptUnresolvedVariable
                    _this.nodes = items.organisationUnits;
                });
            });
        });
        this.getOrgunitGroups().subscribe(function (groups) {
            _this.orgunit_groups = groups.organisationUnitGroups;
        });
    };
    // Generate Organisation unit url based on the level needed
    OrgUnitService.prototype.generateUrlBasedOnLevels = function (level) {
        var childrenLevels = '[]';
        for (var i = 1; i < level + 1; i++) {
            childrenLevels = childrenLevels.replace('[]', '[id,name,level,children[]]');
        }
        var new_string = childrenLevels.substring(1);
        new_string = new_string.replace(',children[]]', '');
        return new_string;
    };
    // Get system wide settings
    OrgUnitService.prototype.getOrgunitLevelsInformation = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].create(function (observer) {
            if (_this.orgunit_levels.length !== 0) {
                observer.next(_this.orgunit_levels);
                observer.complete();
            }
            else {
                _this.http.get(_this.constant.ROOTURL + 'api/organisationUnitLevels.json?fields=id,name,level&order=level:asc')
                    .map(function (response) { return response.json(); })
                    .catch(_this.handleError)
                    .subscribe(function (levels) {
                    _this.orgunit_levels = levels;
                    observer.next(_this.orgunit_levels);
                    observer.complete();
                }, function (error) {
                    observer.error('some error occur');
                });
            }
        });
    };
    // Get organisation unit groups information
    OrgUnitService.prototype.getOrgunitGroups = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].create(function (observer) {
            if (_this.orgunit_groups.length !== 0) {
                observer.next(_this.orgunit_groups);
                observer.complete();
            }
            else {
                _this.http.get(_this.constant.ROOTURL + 'api/organisationUnitGroups.json?fields=id,name&paging=false')
                    .map(function (response) { return response.json(); })
                    .catch(_this.handleError)
                    .subscribe(function (groups) {
                    _this.orgunit_groups = groups.organisationUnitGroups;
                    observer.next(_this.orgunit_groups);
                    observer.complete();
                }, function (error) {
                    observer.error('some error occur');
                });
            }
        });
    };
    // Get system wide settings
    OrgUnitService.prototype.getAllOrgunitsForTree = function (fields) {
        return this.http.get(this.constant.ROOTURL + 'api/organisationUnits.json?filter=level:eq:1&paging=false&fields=' + fields)
            .map(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    // Get orgunit for specific
    OrgUnitService.prototype.getAllOrgunitsForTree1 = function (fields, orgunits) {
        var _this = this;
        if (fields === void 0) { fields = null; }
        if (orgunits === void 0) { orgunits = null; }
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].create(function (observer) {
            if (_this.nodes != null) {
                observer.next(_this.nodes);
                observer.complete();
            }
            else {
                _this.http.get(_this.constant.ROOTURL + 'api/organisationUnits.json?fields=' + fields + '&filter=id:in:[' + orgunits.join(',') + ']&paging=false')
                    .map(function (response) { return response.json(); })
                    .catch(_this.handleError)
                    .subscribe(function (nodes) {
                    _this.nodes = nodes.organisationUnits;
                    observer.next(_this.nodes);
                    observer.complete();
                }, function (error) {
                    observer.error('some error occured');
                });
            }
        });
    };
    // Get initial organisation units to speed up things during loading
    OrgUnitService.prototype.getInitialOrgunitsForTree = function (orgunits) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].create(function (observer) {
            if (_this.initial_orgunits != null) {
                observer.next(_this.initial_orgunits);
                observer.complete();
            }
            else {
                _this.http.get(_this.constant.ROOTURL + 'api/organisationUnits.json?fields=id,name,level,children[id,name]&filter=id:in:[' + orgunits.join(',') + ']&paging=false')
                    .map(function (response) { return response.json(); })
                    .catch(_this.handleError)
                    .subscribe(function (nodes) {
                    _this.initial_orgunits = nodes.organisationUnits;
                    observer.next(_this.initial_orgunits);
                    observer.complete();
                }, function (error) {
                    observer.error('some error occured');
                });
            }
        });
    };
    /**
      Get orgUnit parents
      @param orgUnit
      @return parents[]
    **/
    OrgUnitService.prototype.getOrgUnitParents = function (orgUnit) {
        return this.http.get(this.constant.ROOTURL + 'api/organisationUnits/' + orgUnit + '.json?fields=id,name,code,ancestors[id,name]&paging=false');
    };
    // Handling error
    OrgUnitService.prototype.handleError = function (error) {
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(error);
    };
    OrgUnitService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_4__services__["a" /* ConstantService */]])
    ], OrgUnitService);
    return OrgUnitService;
}());



/***/ }),

/***/ "./src/app/services/outbreak-inventory.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OutbreakInventoryService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services__ = __webpack_require__("./src/app/services/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util__ = __webpack_require__("./node_modules/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_util___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_util__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var OutbreakInventoryService = /** @class */ (function () {
    //constructor(private http: Http, @Inject(forwardRef(() => ConstantService)) constantService) { }
    function OutbreakInventoryService(http, constant) {
        this.http = http;
        this.constant = constant;
    }
    OutbreakInventoryService.prototype.getPrograms = function () {
        var fields = 'paging=false&fields=id,name,programType,programTrackedEntityAttributes[trackedEntityAttribute[id,name]],programStages[id,name,programStageDataElements[dataElement[id,name]]]';
        return this.http.get(this.constant.ROOTURL + 'api/programs.json?' + fields);
    };
    OutbreakInventoryService.prototype.getTrackedEntityInstances = function (ou, program, programStartDate, programEndDate) {
        var fields = 'ou=' + ou + '&ouMode=DESCENDANTS&program=' + program + '&skipPaging=true';
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStartDate) && !Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programEndDate)) {
            programEndDate = __WEBPACK_IMPORTED_MODULE_5_moment__(programEndDate).format('YYYY-MM-DD');
            programStartDate = __WEBPACK_IMPORTED_MODULE_5_moment__(programStartDate).format('YYYY-MM-DD');
            fields = fields + '&programStartDate' + programStartDate + '&programEndDate' + programEndDate;
        }
        return this.http.get(this.constant.ROOTURL + 'api/trackedEntityInstances/query.json?' + fields);
    };
    //api/27/events.json?ouMode=ACCESSIBLE&trackedEntityInstance=pPOlRYW0XJB&skipPaging=true
    OutbreakInventoryService.prototype.getEvents = function (ou, program, startDate, endDate) {
        var fields = 'ouMode=ACCESSIBLE&skipPaging=true&fields=dueDate,program,event,programStage,enrollment,enrollmentStatus,orgUnit,trackedEntityInstance,status,orgUnitName,eventDate,coordinate,dataValues[dataElement,value]&program=' + program + '&ou=' + ou;
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(startDate) && !Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(endDate)) {
            startDate = __WEBPACK_IMPORTED_MODULE_5_moment__(startDate).format('YYYY-MM-DD');
            endDate = __WEBPACK_IMPORTED_MODULE_5_moment__(endDate).format('YYYY-MM-DD');
            fields = fields + '&startDate' + startDate + '&endDate' + endDate;
        }
        return this.http.get(this.constant.ROOTURL + 'api/events.json?' + fields);
    };
    OutbreakInventoryService.prototype.getEventsByTrackedEntityInstance = function (trackedEntityInstances, events, programStages) {
        var mergedEventsAndTeis = [];
        if ((!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(trackedEntityInstances)) && (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(events))) {
            for (var _i = 0, trackedEntityInstances_1 = trackedEntityInstances; _i < trackedEntityInstances_1.length; _i++) {
                var trackedEntityInstance = trackedEntityInstances_1[_i];
                for (var _a = 0, events_1 = events; _a < events_1.length; _a++) {
                    var event_1 = events_1[_a];
                    if (trackedEntityInstance.instance === event_1.trackedEntityInstance) {
                        mergedEventsAndTeis.push(this.addTeiToEventData(trackedEntityInstance, event_1, programStages));
                    }
                }
            }
        }
        else {
            mergedEventsAndTeis = trackedEntityInstances;
        }
        return mergedEventsAndTeis;
    };
    /**
        add data from selected programs stages
    **/
    OutbreakInventoryService.prototype.addTeiToEventData = function (teiData, eventData, programStages) {
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(eventData)) {
            for (var _i = 0, programStages_1 = programStages; _i < programStages_1.length; _i++) {
                var ps = programStages_1[_i];
                teiData[ps.id] = eventData[ps.id];
            }
        }
        return teiData;
    };
    OutbreakInventoryService.prototype.getProgramStagesByProgram = function (programs, program) {
        var programStages = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programs)) {
            for (var _i = 0, programs_1 = programs; _i < programs_1.length; _i++) {
                var program_1 = programs_1[_i];
                if (program_1.id = program_1.id) {
                    programStages = program_1.programStages;
                }
            }
        }
        return programStages;
    };
    OutbreakInventoryService.prototype.getColumns = function (headers) {
        var columns = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(headers)) {
            for (var _i = 0, headers_1 = headers; _i < headers_1.length; _i++) {
                var header = headers_1[_i];
                var colHeader = {};
                if (header.name === 'instance') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else if (header.name === 'created') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else if (header.name === 'lastupdated') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else if (header.name === 'ou') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else if (header.name === 'te') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else if (header.name === 'inactive') {
                    //colHeader.prop = header.name;
                    //colHeader.name = header.column;
                }
                else {
                    colHeader.prop = header.name;
                    colHeader.name = header.column;
                    colHeader.headerClass = "datatable-header";
                    columns.push(colHeader);
                }
            }
        }
        return columns;
    };
    OutbreakInventoryService.prototype.getSingleEventColumns = function (programStage) {
        var columns = [
            {
                "prop": "event",
                "name": "Event",
                "headerClass": "datatable-header"
            },
            {
                "prop": "eventDate",
                "name": "Report Date",
                "headerClass": "datatable-header"
            },
            {
                "prop": "orgUnitName",
                "name": "Org Unit Name",
                "headerClass": "datatable-header"
            }
        ];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStage) && !Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStage.programStageDataElements)) {
            for (var _i = 0, _a = programStage.programStageDataElements; _i < _a.length; _i++) {
                var dataElement = _a[_i];
                var colHeader = {};
                colHeader.prop = dataElement.dataElement.id;
                colHeader.name = dataElement.dataElement.name;
                colHeader.headerClass = "datatable-header";
                columns.push(colHeader);
            }
        }
        return columns;
    };
    OutbreakInventoryService.prototype.createColumnData = function (data) {
        var columnData = [];
        if ((!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(data.headers)) && (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(data))) {
            if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(data.rows)) {
                for (var _i = 0, _a = data.rows; _i < _a.length; _i++) {
                    var val = _a[_i];
                    var colHeader = {};
                    var count = 0;
                    for (var _b = 0, _c = data.headers; _b < _c.length; _b++) {
                        var header = _c[_b];
                        colHeader[header.name] = val[count];
                        count++;
                    }
                    columnData.push(colHeader);
                }
            }
        }
        return columnData;
    };
    /**
        Create program Stages column headings
    **/
    OutbreakInventoryService.prototype.createProgramStageColumns = function (programStages, stage, header) {
        var columns = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStages)) {
            for (var _i = 0, programStages_2 = programStages; _i < programStages_2.length; _i++) {
                var programStage = programStages_2[_i];
                var columnObject = {};
                columnObject.prop = programStage.id;
                columnObject.name = programStage.name;
                columnObject.width = (programStage.programStageDataElements.length * 150);
                //columnObject.headerClass = "is-program-stage";
                columnObject.cellTemplate = stage;
                columnObject.headerTemplate = header;
                columns.push(columnObject);
            }
        }
        return columns;
    };
    /**
      Add program to program stage columns
    **/
    OutbreakInventoryService.prototype.mergeProgramAndProgramStageColumns = function (programColumns, stageColumns) {
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(stageColumns)) {
            for (var _i = 0, stageColumns_1 = stageColumns; _i < stageColumns_1.length; _i++) {
                var stageColumn = stageColumns_1[_i];
                programColumns.push(stageColumn);
            }
        }
        return programColumns;
    };
    /**
        Create program Stages Data Element column headings
    **/
    OutbreakInventoryService.prototype.createProgramStageDataElementColumns = function (programStages, programStageId) {
        var columns = [];
        if ((!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStages))) {
            for (var _i = 0, programStages_3 = programStages; _i < programStages_3.length; _i++) {
                var programStage = programStages_3[_i];
                if (programStage.id === programStageId) {
                    if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(programStage.programStageDataElements)) {
                        for (var _a = 0, _b = programStage.programStageDataElements; _a < _b.length; _a++) {
                            var programStageDataElement = _b[_a];
                            var columnObject = {};
                            columnObject.prop = programStageDataElement.dataElement.id;
                            columnObject.name = programStageDataElement.dataElement.name;
                            columns.push(columnObject);
                        }
                    }
                }
            }
        }
        return columns;
    };
    /**
    Filter events and arrange them ny tracked Entity Instances and program Stages
    **/
    OutbreakInventoryService.prototype.filterEventsByTrackedEntityInstance = function (events) {
        var eventsByTeis = [];
        var eventsByTeisCheck = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(events)) {
            for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {
                var event_2 = events_2[_i];
                if ((eventsByTeisCheck.indexOf(event_2.trackedEntityInstance)) === -1) {
                    eventsByTeisCheck.push(event_2.trackedEntityInstance);
                    var tei = {};
                    tei[event_2.programStage] = [];
                    var programStageEvent = {};
                    tei.trackedEntityInstance = event_2.trackedEntityInstance;
                    tei.orgUnit = event_2.orgUnit;
                    programStageEvent.event = event_2.event;
                    programStageEvent.status = event_2.status;
                    programStageEvent.eventDate = event_2.eventDate;
                    tei[event_2.programStage].push(this.createObjectFromArrayDataValues(event_2.dataValues, programStageEvent));
                    eventsByTeis.push(tei);
                }
                else {
                    var teiExists = this.filterByTrackedEntityInstance(eventsByTeis, event_2.trackedEntityInstance);
                    for (var teiObject in teiExists) {
                        if (teiObject === event_2.programStage) {
                            var programStageEvent = {};
                            programStageEvent.event = event_2.event;
                            programStageEvent.status = event_2.status;
                            programStageEvent.eventDate = event_2.eventDate;
                            teiExists[event_2.programStage].push(this.createObjectFromArrayDataValues(event_2.dataValues, programStageEvent));
                        }
                        else {
                            teiExists[event_2.programStage] = [];
                            var programStageEvent = {};
                            programStageEvent.event = event_2.event;
                            programStageEvent.status = event_2.status;
                            programStageEvent.eventDate = event_2.eventDate;
                            teiExists[event_2.programStage].push(this.createObjectFromArrayDataValues(event_2.dataValues, programStageEvent));
                        }
                    }
                }
            }
        }
        return eventsByTeis;
    };
    /**
    Lookup the existing Tracked Entity Instance
    **/
    OutbreakInventoryService.prototype.filterByTrackedEntityInstance = function (events, trackedEntityInstance) {
        var tei = {};
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(events)) {
            for (var _i = 0, events_3 = events; _i < events_3.length; _i++) {
                var event_3 = events_3[_i];
                if (event_3.trackedEntityInstance === trackedEntityInstance) {
                    tei = event_3;
                }
            }
        }
        return tei;
    };
    /**
    Lookup the existing program Stage
    **/
    OutbreakInventoryService.prototype.filterByProgramStage = function (events, programStage) {
        var programStageValues = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(events)) {
            for (var _i = 0, events_4 = events; _i < events_4.length; _i++) {
                var event_4 = events_4[_i];
                if (event_4.programStage === programStage) {
                    programStageValues = event_4[programStage];
                }
            }
        }
        return programStageValues;
    };
    /**
    Create Object from array
    **/
    OutbreakInventoryService.prototype.createObjectFromArrayDataValues = function (arrayValues, oldObject) {
        var arrayObject = oldObject;
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(arrayValues)) {
            for (var _i = 0, arrayValues_1 = arrayValues; _i < arrayValues_1.length; _i++) {
                var arrayValue = arrayValues_1[_i];
                arrayObject[arrayValue.dataElement] = arrayValue.value;
            }
        }
        return arrayObject;
    };
    /**
     Create data from singe event
    **/
    OutbreakInventoryService.prototype.getSingleEventData = function (events) {
        var rows = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_4_util__["isNullOrUndefined"])(events)) {
            for (var _i = 0, events_5 = events; _i < events_5.length; _i++) {
                var event_5 = events_5[_i];
                var eventObject = {};
                eventObject.event = event_5.event;
                eventObject.eventDate = event_5.eventDate;
                eventObject.orgUnit = event_5.orgUnit;
                eventObject.status = event_5.status;
                eventObject.orgUnitName = event_5.orgUnitName;
                rows.push(this.createObjectFromArrayDataValues(event_5.dataValues, eventObject));
            }
        }
        return rows;
    };
    OutbreakInventoryService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_3__services__["a" /* ConstantService */]])
    ], OutbreakInventoryService);
    return OutbreakInventoryService;
}());



/***/ }),

/***/ "./src/app/services/program-indicators.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProgramIndicatorsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util__ = __webpack_require__("./node_modules/util/util.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_util___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_util__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services__ = __webpack_require__("./src/app/services/index.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ProgramIndicatorsService = /** @class */ (function () {
    function ProgramIndicatorsService(http, constant) {
        this.http = http;
        this.constant = constant;
    }
    // Get dataStores
    ProgramIndicatorsService.prototype.getDataStores = function (dataStore, key) {
        return this.http.get(this.constant.ROOTURL + 'api/dataStore/' + dataStore + '/' + key + '.json');
    };
    /**
      Get program Indicators from dataStores by disease
    **/
    ProgramIndicatorsService.prototype.getProgramIndicators = function (dataStores, disease) {
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(dataStores)) {
            for (var _i = 0, dataStores_1 = dataStores; _i < dataStores_1.length; _i++) {
                var dataStore = dataStores_1[_i];
                if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(dataStore)) {
                    if (dataStore.disease === disease) {
                        return dataStore;
                    }
                }
            }
        }
    };
    /**
      Create array from Object Array
    **/
    ProgramIndicatorsService.prototype.createArrayFromObject = function (arrayObject) {
        var piArray = [];
        for (var _i = 0, arrayObject_1 = arrayObject; _i < arrayObject_1.length; _i++) {
            var pi = arrayObject_1[_i];
            piArray.push(pi.id);
        }
        return piArray;
    };
    /**
     Get analytics data for a given disease given a set of indicators
    var piFields = ';
    
    **/
    ProgramIndicatorsService.prototype.getAnalyticsData = function (piIndicators, ou, period) {
        var fields = 'dimension=dx:' + piIndicators + '&filter=pe:' + period + '&dimension=ou:' + ou + '&displayProperty=NAME&tableLayout=true&columns=dx&rows=ou&skipMeta=false&showHierarchy=true';
        return this.http.get(this.constant.ROOTURL + 'api/analytics.json?' + fields);
    };
    /**
    Get epi data for epi curve
  
    **/
    ProgramIndicatorsService.prototype.getAnalyticsDataForEpiCurve = function (piIndicators, ou, periods, periodType) {
        var fields = 'dimension=dx:' + piIndicators + '&dimension=pe:' + periods + '&filter=ou:' + ou + '&displayProperty=NAME&outputIdScheme=UID';
        return this.http.get(this.constant.ROOTURL + 'api/27/analytics.json?' + fields);
    };
    /**
     Period Generator
    **/
    ProgramIndicatorsService.prototype.generatePeriods = function (startDate, endDate, periodType) {
        var periods = [];
        if (periodType === 'weekly') {
            console.log("Not implemented");
        }
        else {
            var start = __WEBPACK_IMPORTED_MODULE_4_moment__(startDate);
            endDate = __WEBPACK_IMPORTED_MODULE_4_moment__(endDate);
            var diff = endDate.diff(startDate, 'days');
            if (!startDate.isValid() || !endDate.isValid() || diff <= 0) {
                periods.push(__WEBPACK_IMPORTED_MODULE_4_moment__(start).format("YYYYMMDD"));
            }
            else {
                for (var i = 0; i < diff; i++) {
                    periods.push(start.add(1, 'd').format('YYYYMMDD'));
                }
            }
        }
        return periods;
    };
    ProgramIndicatorsService.prototype.createEpiCurveData = function (data, piIndicators, periods) {
        var chartObject = {
            "categories": [],
            "dataset": []
        };
        var allcases = [];
        var categories = [];
        var confirmed = [];
        var deaths = [];
        var suspected = [];
        var suspectedandconfirmed = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(data)) {
            for (var _i = 0, periods_1 = periods; _i < periods_1.length; _i++) {
                var period = periods_1[_i];
                for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {
                    var value = data_1[_a];
                    if (value[0] === piIndicators[0]) {
                        if (period === value[1]) {
                            confirmed.push({ "value": parseInt(value[2]) });
                        }
                        else {
                            confirmed.push({ "value": 0 });
                        }
                    }
                    else if (value[0] === piIndicators[1]) {
                        if (period === value[1]) {
                            deaths.push({ "value": parseInt(value[2]) });
                        }
                        else {
                            deaths.push({ "value": 0 });
                        }
                    }
                    else if (value[0] === piIndicators[2]) {
                        if (period === value[1]) {
                            suspected.push({ "value": parseInt(value[2]) });
                        }
                        else {
                            suspected.push({ "value": 0 });
                        }
                    }
                    else {
                    }
                }
            }
        }
        //fusion charts structure
        allcases.push({ "seriesname": "Confirmed", "data": confirmed });
        allcases.push({ "seriesname": "Suspected", "data": suspected });
        allcases.push({ "seriesname": "Deaths", "data": deaths });
        chartObject.categories = this.generateSeriesCategories(periods);
        chartObject.dataset = allcases;
        return chartObject;
    };
    /**
     Get epidemic codes
    **/
    ProgramIndicatorsService.prototype.getEpiCode = function (epidemics, disease) {
        var epiArray = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(epidemics)) {
            for (var _i = 0, epidemics_1 = epidemics; _i < epidemics_1.length; _i++) {
                var epidemic = epidemics_1[_i];
                if (epidemic.disease === disease) {
                    var endDate = "";
                    if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(epidemic.endDate) && epidemic.endDate !== "") {
                        endDate = __WEBPACK_IMPORTED_MODULE_4_moment__(epidemic.endDate).format("DD-MM-YYYY");
                    }
                    else {
                        endDate = __WEBPACK_IMPORTED_MODULE_4_moment__().format("DD-MM-YYYY");
                    }
                    epiArray.push({ "epicode": epidemic.epicode, "endDate": endDate, "startDate": __WEBPACK_IMPORTED_MODULE_4_moment__(epidemic.firstCaseDate).format("DD-MM-YYYY"), "orgUnit": epidemic.orgUnit, "orgUnitName": epidemic.orgUnitName, "status": epidemic.active, "disease": epidemic.disease, "firstCaseDate": epidemic.firstCaseDate, "lastCaseDate": epidemic.lastCaseDate });
                }
            }
        }
        return this.removeDuplicates(epiArray);
    };
    /**
     Generate categories from periods
    **/
    ProgramIndicatorsService.prototype.generateSeriesCategories = function (periods) {
        var seriesCategories = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(periods)) {
            for (var _i = 0, periods_2 = periods; _i < periods_2.length; _i++) {
                var period = periods_2[_i];
                seriesCategories.push({ "label": __WEBPACK_IMPORTED_MODULE_4_moment__(period).format("YYYY-MM-DD") });
            }
        }
        return seriesCategories;
    };
    /**
     Remove duplicates from array
    **/
    ProgramIndicatorsService.prototype.removeDuplicates = function (arr) {
        var noDup = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(arr)) {
            arr.forEach(function (d) {
                var found = false;
                noDup.forEach(function (u) {
                    if (u.epicode == d.epicode) {
                        found = true;
                    }
                });
                if (!found) {
                    noDup.push(d);
                }
            });
        }
        return noDup;
    };
    /**
     Construct the table result
    **/
    ProgramIndicatorsService.prototype.displayAnalyticsEpidemics = function (data, indicators, orgUnit, headerdata, outbreak) {
        var tableData = [];
        if (!Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(data) && !Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(indicators) && !Object(__WEBPACK_IMPORTED_MODULE_3_util__["isNullOrUndefined"])(outbreak)) {
            for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {
                var d = data_2[_i];
                var tableRow = {};
                tableRow.headers = [];
                tableRow.headers.push({ "title": "Outbreak ID", "value": outbreak.epicode });
                tableRow.headers.push({ "title": "Disease", "value": outbreak.disease });
                tableRow.headers.push({ "title": "Date first case reported", "value": outbreak.startDate });
                tableRow.headers.push({ "title": "Date closed", "value": outbreak.endDate });
                tableRow.headers.push({ "title": "Date confirmed", "value": __WEBPACK_IMPORTED_MODULE_4_moment__(outbreak.firstCaseDate).format("DD-MM-YYYY") });
                tableRow.headers.push({ "title": "Facility reporting", "value": orgUnit.name, "row": true });
                if (orgUnit.ancestors.length === 4) {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": orgUnit.ancestors[3].name, "row": true });
                    tableRow.headers.push({ "title": "District", "value": orgUnit.ancestors[2].name, "row": true });
                }
                else if (orgUnit.ancestors.length === 3) {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": orgUnit.ancestors[2].name, "row": true });
                    tableRow.headers.push({ "title": "District", "value": orgUnit.ancestors[1].name, "row": true });
                }
                else if (orgUnit.ancestors.length === 2) {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": orgUnit.ancestors[1].name, "row": true });
                    tableRow.headers.push({ "title": "District", "value": orgUnit.ancestors[0].name, "row": true });
                }
                else if (orgUnit.ancestors.length === 5) {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": orgUnit.ancestors[4].name, "row": true });
                    tableRow.headers.push({ "title": "District Hospital", "value": orgUnit.ancestors[3].name, "row": true });
                    tableRow.headers.push({ "title": "District", "value": orgUnit.ancestors[2].name, "row": true });
                }
                else if (orgUnit.ancestors.length === 1) {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": orgUnit.ancestors[0].name, "row": true });
                    tableRow.headers.push({ "title": "District", "value": "", "row": true });
                }
                else {
                    tableRow.headers.push({ "title": "Sector/Subcounty", "value": "" });
                    tableRow.headers.push({ "title": "District", "value": "" });
                }
                var counterI = 0;
                tableRow.dataValues = [];
                for (var _a = 0, indicators_1 = indicators; _a < indicators_1.length; _a++) {
                    var i = indicators_1[_a];
                    if (i.admissionDate) {
                        tableRow.dataValues.push({ "admissionDate": true, "title": i.name, "description": i.description, "value": d[headerdata + counterI] == "" ? 0 : parseInt(d[headerdata + counterI]) });
                    }
                    else if (i.dischargeDate) {
                        tableRow.dataValues.push({ "dischargeDate": true, "title": i.name, "description": i.description, "value": d[headerdata + counterI] == "" ? 0 : parseInt(d[headerdata + counterI]) });
                    }
                    else {
                        tableRow.dataValues.push({ "title": i.name, "description": i.description, "value": d[headerdata + counterI] == "" ? 0 : parseInt(d[headerdata + counterI]) });
                    }
                    counterI++;
                }
                tableData.push(tableRow);
            }
        }
        else {
            console.log("Failed to get data");
        }
        return tableData;
    };
    ProgramIndicatorsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_5__services__["a" /* ConstantService */]])
    ], ProgramIndicatorsService);
    return ProgramIndicatorsService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]);


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map